# SO ID è§„èŒƒå®Œå–„å’Œç®¡ç†å™¨ä¿®å¤ - ä»»åŠ¡åˆ—è¡¨

## ä»»åŠ¡æ¦‚è¿°

æœ¬ä»»åŠ¡åˆ—è¡¨ç”¨äºæŒ‡å¯¼ SO ID è§„èŒƒå®Œå–„å’Œç®¡ç†å™¨ä¿®å¤çš„å®æ–½ã€‚

---

## 1. æ–‡æ¡£æ›´æ–°

- [ ] 1.1 æ›´æ–° SO å‚æ•°è®¾è®¡æ–‡æ¡£
  - åœ¨ ID åˆ†é…è§„èŒƒä¸­æ·»åŠ  12XXï¼ˆæ ‘è‹—ï¼‰
  - åœ¨ ID åˆ†é…è§„èŒƒä¸­æ·»åŠ  13XXï¼ˆå»ºç­‘ææ–™ï¼‰
  - åœ¨ ID åˆ†é…è§„èŒƒä¸­æ·»åŠ  14XXï¼ˆé’¥åŒ™å’Œé”ï¼Œç‰¹åˆ«æ˜¯ 1420-1499ï¼‰
  - æ›´æ–°ç‰ˆæœ¬å·åˆ° v1.2
  - _éœ€æ±‚: 1.1, 5.1_

- [ ] 1.2 æ›´æ–° so-design.md steering è§„åˆ™
  - æ·»åŠ å®Œæ•´çš„ ID åˆ†é…è§„èŒƒ
  - æ·»åŠ é’¥åŒ™/é” ID èŒƒå›´è¯´æ˜
  - _éœ€æ±‚: 1.5, 5.2_

- [ ] 1.3 æ›´æ–°å·¥ä½œåŒº memory.md
  - æ·»åŠ æœ¬æ¬¡ä¼šè¯è®°å½•
  - è®°å½•é—®é¢˜åˆ†æ
  - è®°å½•è§£å†³æ–¹æ¡ˆ
  - _éœ€æ±‚: 5.3_

---

## 2. åˆ›å»º PersistentManagers ç³»ç»Ÿ

- [ ] 2.1 åˆ›å»º PersistentManagers.cs è„šæœ¬
  - å®ç°å•ä¾‹æ¨¡å¼
  - åœ¨ Awake ä¸­è°ƒç”¨ DontDestroyOnLoad
  - æ·»åŠ è°ƒè¯•æ—¥å¿—
  - ä¿å­˜åˆ° `Assets/YYY_Scripts/Service/PersistentManagers.cs`
  - _éœ€æ±‚: 3.1, 3.2, 3.3, 3.4_

- [ ] 2.2 ä¿®æ”¹ TimeManager.cs
  - ç§»é™¤ `DontDestroyOnLoad(gameObject)` è°ƒç”¨
  - æ·»åŠ æ³¨é‡Šè¯´æ˜ç”± PersistentManagers å¤„ç†
  - ä¿æŒå…¶ä»–é€»è¾‘ä¸å˜
  - _éœ€æ±‚: 3.2_

- [ ] 2.3 ä¿®æ”¹ SeasonManager.cs
  - ç§»é™¤ `DontDestroyOnLoad(gameObject)` è°ƒç”¨
  - æ·»åŠ æ³¨é‡Šè¯´æ˜ç”± PersistentManagers å¤„ç†
  - ä¿æŒå…¶ä»–é€»è¾‘ä¸å˜
  - _éœ€æ±‚: 3.3_

- [ ] 2.4 ä¿®æ”¹ WeatherSystem.cs
  - ç§»é™¤ `DontDestroyOnLoad(gameObject)` è°ƒç”¨
  - æ·»åŠ æ³¨é‡Šè¯´æ˜ç”± PersistentManagers å¤„ç†
  - ä¿æŒå…¶ä»–é€»è¾‘ä¸å˜
  - _éœ€æ±‚: 3.4_

---

## 3. è°ƒæ•´åœºæ™¯å±‚çº§

- [ ] 3.1 åœ¨ Primary åœºæ™¯ä¸­åˆ›å»º PersistentManagers æ ¹ç‰©ä½“
  - åˆ›å»ºç©ºç‰©ä½“ï¼Œå‘½åä¸º "PersistentManagers"
  - ç¡®ä¿æ˜¯æ ¹ç‰©ä½“ï¼ˆæ²¡æœ‰çˆ¶ç‰©ä½“ï¼‰
  - æ·»åŠ  PersistentManagers ç»„ä»¶
  - _éœ€æ±‚: 3.1_

- [ ] 3.2 ç§»åŠ¨ç®¡ç†å™¨åˆ° PersistentManagers ä¸‹
  - å°† TimeManager ç§»åˆ° PersistentManagers ä¸‹
  - å°† SeasonManager ç§»åˆ° PersistentManagers ä¸‹
  - å°† WeatherSystem ç§»åˆ° PersistentManagers ä¸‹
  - ä¿å­˜åœºæ™¯
  - _éœ€æ±‚: 3.2, 3.3, 3.4_

- [ ] 3.3 éªŒè¯åœºæ™¯å±‚çº§
  - æ£€æŸ¥ PersistentManagers æ˜¯æ ¹ç‰©ä½“
  - æ£€æŸ¥ä¸‰ä¸ªç®¡ç†å™¨æ˜¯å…¶å­ç‰©ä½“
  - æ£€æŸ¥ç»„ä»¶é…ç½®æ­£ç¡®
  - _éœ€æ±‚: 3.1, 3.2, 3.3, 3.4_

---

## 4. åˆ›å»º ID è¿ç§»å·¥å…·

- [ ] 4.1 åˆ›å»º Tool_FixKeyIDs.cs
  - æ‰«ææ‰€æœ‰ KeyLockData SO
  - æ£€æµ‹ ID < 1420 çš„é’¥åŒ™
  - æŒ‰åŸ ID æ’åº
  - ä» 1420 å¼€å§‹é‡æ–°åˆ†é… ID
  - ä¿å­˜ä¿®æ”¹å¹¶è¾“å‡ºæŠ¥å‘Š
  - èœå•ï¼š`Tools/ğŸ”§ ä¿®å¤é’¥åŒ™ ID`
  - _éœ€æ±‚: 2.1, 2.2_

- [ ] 4.2 è¿è¡Œ ID è¿ç§»å·¥å…·
  - å¤‡ä»½é¡¹ç›®ï¼ˆä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼‰
  - è¿è¡Œå·¥å…·
  - æ£€æŸ¥è¾“å‡ºæŠ¥å‘Š
  - éªŒè¯æ‰€æœ‰é’¥åŒ™ ID åœ¨ 1420-1499 èŒƒå›´å†…
  - _éœ€æ±‚: 2.2_

- [ ] 4.3 åŒæ­¥åˆ° ItemDatabase
  - å³é”®ç‚¹å‡» MasterItemDatabase.asset
  - é€‰æ‹©"è‡ªåŠ¨æ”¶é›†æ‰€æœ‰ç‰©å“æ•°æ®"
  - éªŒè¯æ•°æ®åº“æ›´æ–°æˆåŠŸ
  - _éœ€æ±‚: 2.5_

---

## 5. æ›´æ–°æ‰¹é‡ç”Ÿæˆå·¥å…·

- [ ] 5.1 æ›´æ–° Tool_BatchItemSOGenerator.cs
  - ä¸º KeyLockData è®¾ç½®é»˜è®¤èµ·å§‹ ID ä¸º 1420
  - æ·»åŠ  ID èŒƒå›´æç¤ºï¼š"é’¥åŒ™/é” ID èŒƒå›´ï¼š1420-1499"
  - ä¸º SaplingData è®¾ç½®é»˜è®¤èµ·å§‹ ID ä¸º 1200ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
  - æ·»åŠ  ID èŒƒå›´æç¤ºï¼š"æ ‘è‹— ID èŒƒå›´ï¼š1200-1219"
  - æµ‹è¯•ç”ŸæˆåŠŸèƒ½
  - _éœ€æ±‚: 4.1, 4.2, 4.3, 4.4_

---

## 6. æµ‹è¯•ä¸éªŒæ”¶

- [ ] 6.1 æµ‹è¯• DontDestroyOnLoad ä¿®å¤
  - å¯åŠ¨æ¸¸æˆ
  - éªŒè¯ï¼šæ§åˆ¶å°æ—  "DontDestroyOnLoad only works for root GameObjects" è­¦å‘Š
  - è®°å½•å½“å‰æ—¶é—´ã€å­£èŠ‚ã€å¤©æ°”
  - åˆ‡æ¢åœºæ™¯ï¼ˆå¦‚æœæœ‰å¤šä¸ªåœºæ™¯ï¼‰
  - éªŒè¯ï¼šPersistentManagers ä»ç„¶å­˜åœ¨
  - éªŒè¯ï¼šTimeManagerã€SeasonManagerã€WeatherSystem ä»ç„¶å­˜åœ¨
  - éªŒè¯ï¼šæ—¶é—´ã€å­£èŠ‚ã€å¤©æ°”çŠ¶æ€ä¿æŒä¸å˜
  - _éœ€æ±‚: 3.1, 3.2, 3.3, 3.4, 3.5_

- [ ] 6.2 æµ‹è¯•é’¥åŒ™ ID ä¿®å¤
  - å¯åŠ¨æ¸¸æˆ
  - éªŒè¯ï¼šæ§åˆ¶å°æ—  "é’¥åŒ™IDå»ºè®®åœ¨1420-1499èŒƒå›´å†…" è­¦å‘Š
  - æ£€æŸ¥æ‰€æœ‰é’¥åŒ™ SO çš„ ID
  - éªŒè¯ï¼šæ‰€æœ‰é’¥åŒ™ ID åœ¨ 1420-1499 èŒƒå›´å†…
  - _éœ€æ±‚: 2.1, 2.2_

- [ ] 6.3 æµ‹è¯•æ‰¹é‡ç”Ÿæˆå·¥å…·
  - æ‰“å¼€æ‰¹é‡ç”Ÿæˆå·¥å…·
  - é€‰æ‹© KeyLockData ç±»å‹
  - éªŒè¯ï¼šé»˜è®¤èµ·å§‹ ID ä¸º 1420
  - éªŒè¯ï¼šæ˜¾ç¤º ID èŒƒå›´æç¤º
  - ç”Ÿæˆæµ‹è¯•é’¥åŒ™ SO
  - éªŒè¯ï¼šç”Ÿæˆçš„ SO ID æ­£ç¡®
  - åˆ é™¤æµ‹è¯• SO
  - _éœ€æ±‚: 4.1, 4.2, 4.3, 4.4_

- [ ] 6.4 æ–‡æ¡£éªŒæ”¶
  - æ£€æŸ¥ SO å‚æ•°è®¾è®¡æ–‡æ¡£å·²æ›´æ–°åˆ° v1.2
  - æ£€æŸ¥ ID åˆ†é…è§„èŒƒåŒ…å« 12XXã€13XXã€14XX
  - æ£€æŸ¥ so-design.md å·²æ›´æ–°
  - æ£€æŸ¥å·¥ä½œåŒº memory.md å·²æ›´æ–°
  - _éœ€æ±‚: 5.1, 5.2, 5.3_

---

## 7. æœ€ç»ˆæ£€æŸ¥ç‚¹

- [ ] 7. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦æœ‰é—®é¢˜
  - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦æœ‰é—®é¢˜

---

## ä»»åŠ¡ä¾èµ–å…³ç³»

```
1. æ–‡æ¡£æ›´æ–°
   â”œâ”€â”€ 1.1 SO å‚æ•°è®¾è®¡æ–‡æ¡£
   â”œâ”€â”€ 1.2 so-design.md
   â””â”€â”€ 1.3 å·¥ä½œåŒº memory.md
       â†“
2. åˆ›å»º PersistentManagers ç³»ç»Ÿ
   â”œâ”€â”€ 2.1 PersistentManagers.cs
   â”œâ”€â”€ 2.2 TimeManager.cs
   â”œâ”€â”€ 2.3 SeasonManager.cs
   â””â”€â”€ 2.4 WeatherSystem.cs
       â†“
3. è°ƒæ•´åœºæ™¯å±‚çº§
   â”œâ”€â”€ 3.1 åˆ›å»º PersistentManagers æ ¹ç‰©ä½“
   â”œâ”€â”€ 3.2 ç§»åŠ¨ç®¡ç†å™¨
   â””â”€â”€ 3.3 éªŒè¯åœºæ™¯å±‚çº§
       â†“
4. åˆ›å»º ID è¿ç§»å·¥å…·
   â”œâ”€â”€ 4.1 Tool_FixKeyIDs.cs
   â”œâ”€â”€ 4.2 è¿è¡Œå·¥å…·
   â””â”€â”€ 4.3 åŒæ­¥æ•°æ®åº“
       â†“
5. æ›´æ–°æ‰¹é‡ç”Ÿæˆå·¥å…·
   â””â”€â”€ 5.1 Tool_BatchItemSOGenerator.cs
       â†“
6. æµ‹è¯•ä¸éªŒæ”¶
   â”œâ”€â”€ 6.1 DontDestroyOnLoad æµ‹è¯•
   â”œâ”€â”€ 6.2 é’¥åŒ™ ID æµ‹è¯•
   â”œâ”€â”€ 6.3 æ‰¹é‡ç”Ÿæˆå·¥å…·æµ‹è¯•
   â””â”€â”€ 6.4 æ–‡æ¡£éªŒæ”¶
       â†“
7. æœ€ç»ˆæ£€æŸ¥ç‚¹
```

---

## æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½é¡¹ç›®**ï¼šåœ¨è¿è¡Œ ID è¿ç§»å·¥å…·å‰ï¼Œç¡®ä¿ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶å¤‡ä»½é¡¹ç›®
2. **åœºæ™¯ä¿å­˜**ï¼šè°ƒæ•´åœºæ™¯å±‚çº§åï¼Œè®°å¾—ä¿å­˜åœºæ™¯
3. **æµ‹è¯•é¡ºåº**ï¼šå…ˆæµ‹è¯• DontDestroyOnLoadï¼Œå†æµ‹è¯• ID ä¿®å¤
4. **æ§åˆ¶å°æ£€æŸ¥**ï¼šæ¯æ¬¡æµ‹è¯•åæ£€æŸ¥æ§åˆ¶å°ï¼Œç¡®ä¿æ— è­¦å‘Šå’Œé”™è¯¯

---

*ä»»åŠ¡åˆ—è¡¨ç»“æŸ*
