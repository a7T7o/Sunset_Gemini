# é¢„è§ˆä¸æ”¾ç½®ä½ç½®å¯¹é½é—®é¢˜ - æ·±åº¦åˆ†ææŠ¥å‘Š V2

**åˆ›å»ºæ—¥æœŸ**: 2026-01-21  
**çŠ¶æ€**: å¾…å®¡æ ¸  
**ç‰ˆæœ¬**: V2ï¼ˆæ›´æ·±å…¥åˆ†æï¼‰

---

## ä¸€ã€é—®é¢˜ç°è±¡å›é¡¾

| ç‰©å“ç±»å‹ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|---------|--------|--------|
| æ ‘è‹— | æ”¾ç½®ä½ç½®æ¯”é¢„è§ˆä½ç½®**é«˜** | âœ… æ­£ç¡® |
| ç®±å­ | âœ… æ­£ç¡® | æ”¾ç½®ä½ç½®æ¯”é¢„è§ˆä½ç½®**ä½** |

**å…³é”®è§‚å¯Ÿ**ï¼šé¢„è§ˆæ˜¾ç¤ºéƒ½æ˜¯æ­£ç¡®çš„ï¼Œé—®é¢˜å‡ºåœ¨æ”¾ç½®ä½ç½®è®¡ç®—ã€‚

---

## äºŒã€ç”¨æˆ·åæ€çš„å…³é”®é—®é¢˜

> "ç®±å­çš„ sprite æ ·å¼åˆ‡æ¢çš„å¯¹é½å…¶å®åœ¨æ ‘æœ¨å’ŒçŸ³å¤´æ§åˆ¶å™¨å†…æˆ‘éƒ½è¦æ±‚è¿‡å‘€ï¼Œä¸ºä»€ä¹ˆåœ¨è¿™é‡Œå°±å‡ºé”™äº†å‘¢"

è¿™ä¸ªé—®é¢˜æŒ‡å‘äº†ä¸€ä¸ªæ›´æ·±å±‚çš„è®¾è®¡é—®é¢˜ï¼š**è™½ç„¶è®¾è®¡æ„å›¾ä¸€è‡´ï¼Œä½†å®ç°æœºåˆ¶ä¸åŒ**ã€‚

---

## ä¸‰ã€ä¸¤ç§åº•éƒ¨å¯¹é½æœºåˆ¶çš„æ·±åº¦å¯¹æ¯”

### 3.1 TreeControllerV2.AlignSpriteBottom()

**ä»£ç ä½ç½®**: TreeControllerV2.cs ç¬¬ 1516-1530 è¡Œ

```csharp
private void AlignSpriteBottom()
{
    if (!alignSpriteBottom) return;
    if (spriteRenderer == null || spriteRenderer.sprite == null) return;
    
    Bounds spriteBounds = spriteRenderer.sprite.bounds;
    float spriteBottomOffset = spriteBounds.min.y;
    
    Vector3 localPos = spriteRenderer.transform.localPosition;
    localPos.y = -spriteBottomOffset;  // â˜… ç»å¯¹å€¼è®¾ç½®
    spriteRenderer.transform.localPosition = localPos;
}
```

**ç‰¹ç‚¹**ï¼š
- **ä¿®æ”¹ç›®æ ‡**ï¼šå­ç‰©ä½“çš„ `localPosition.y`
- **è®¡ç®—æ–¹å¼**ï¼šç»å¯¹å€¼ `-sprite.bounds.min.y`
- **è§¦å‘æ—¶æœº**ï¼š`Start()` â†’ `UpdateSprite()` â†’ `AlignSpriteBottom()`
- **åˆå§‹æ”¾ç½®æ—¶**ï¼šâœ… **ä¼šæ‰§è¡Œ**

### 3.2 ChestController.ApplySpriteWithBottomAlign()

**ä»£ç ä½ç½®**: ChestController.cs ç¬¬ 373-395 è¡Œ

```csharp
private void ApplySpriteWithBottomAlign(Sprite newSprite)
{
    if (_spriteRenderer == null || newSprite == null) return;
    
    // ç¡®ä¿é”šç‚¹å·²åˆå§‹åŒ–
    if (!_anchorInitialized)
    {
        _anchorWorldPos = GetCurrentBottomCenterWorld();
        _anchorInitialized = true;
    }
    
    // åº”ç”¨æ–° Sprite
    _spriteRenderer.sprite = newSprite;
    
    // è®¡ç®—æ–°çš„åº•éƒ¨ä¸­å¿ƒä½ç½®
    Vector3 newBottomCenter = GetCurrentBottomCenterWorld();
    
    // è®¡ç®—åç§»å¹¶ä¿®æ­£ä½ç½®
    Vector3 delta = _anchorWorldPos - newBottomCenter;
    transform.position += delta;  // â˜… ç›¸å¯¹å€¼ä¿®æ­£
}
```

**ç‰¹ç‚¹**ï¼š
- **ä¿®æ”¹ç›®æ ‡**ï¼šæ ¹ç‰©ä½“çš„ `transform.position`
- **è®¡ç®—æ–¹å¼**ï¼šç›¸å¯¹å€¼ï¼ˆé”šç‚¹å·®å€¼ï¼‰
- **è§¦å‘æ—¶æœº**ï¼š`UpdateSpriteForState()` â†’ `ApplySpriteWithBottomAlign()`
- **åˆå§‹æ”¾ç½®æ—¶**ï¼šâŒ **ä¸ä¼šæ‰§è¡Œ**ï¼ˆå› ä¸º Sprite æ²¡æœ‰åˆ‡æ¢ï¼‰

### 3.3 å…³é”®å·®å¼‚æ€»ç»“

| ç‰¹æ€§ | TreeControllerV2 | ChestController |
|------|-----------------|-----------------|
| ä¿®æ”¹ç›®æ ‡ | å­ç‰©ä½“ localPosition | æ ¹ç‰©ä½“ position |
| è®¡ç®—æ–¹å¼ | ç»å¯¹å€¼ï¼š`-sprite.bounds.min.y` | ç›¸å¯¹å€¼ï¼šé”šç‚¹å·®å€¼ |
| è§¦å‘æ¡ä»¶ | æ¯æ¬¡ UpdateSprite | åªåœ¨ Sprite åˆ‡æ¢æ—¶ |
| **åˆå§‹æ”¾ç½®æ—¶** | **âœ… ä¼šæ‰§è¡Œ** | **âŒ ä¸ä¼šæ‰§è¡Œ** |

---

## å››ã€é—®é¢˜æ ¹æºåˆ†æ

### 4.1 å½“å‰ä»£ç çš„å‡è®¾

`PlacementGridCalculator.GetColliderCenterAfterBottomAlign()` å‡è®¾ï¼š

```csharp
// å‡è®¾ï¼šæ‰€æœ‰ç‰©å“æ”¾ç½®åéƒ½ä¼šæ‰§è¡Œåº•éƒ¨å¯¹é½
float bottomAlignOffset = -sr.sprite.bounds.min.y;
return new Vector2(colliderCenter.x, colliderCenter.y + bottomAlignOffset);
```

### 4.2 å‡è®¾ä¸ºä»€ä¹ˆå¯¹æ ‘è‹—æ­£ç¡®ï¼Ÿ

1. TreeControllerV2 åœ¨ `Start()` ä¸­è°ƒç”¨ `UpdateSprite()`
2. `UpdateSprite()` è°ƒç”¨ `AlignSpriteBottom()`
3. `AlignSpriteBottom()` è®¾ç½® `localPosition.y = -sprite.bounds.min.y`
4. **æˆ‘ä»¬çš„è®¡ç®—é¢„æµ‹äº†è¿™ä¸ªå˜åŒ–**

### 4.3 å‡è®¾ä¸ºä»€ä¹ˆå¯¹ç®±å­é”™è¯¯ï¼Ÿ

1. ChestController åœ¨ `Initialize()` ä¸­è°ƒç”¨ `UpdateSprite()`
2. `UpdateSprite()` è°ƒç”¨ `UpdateSpriteForState()`
3. `UpdateSpriteForState()` è°ƒç”¨ `ApplySpriteWithBottomAlign()`
4. **ä½†æ˜¯**ï¼š`ApplySpriteWithBottomAlign()` çš„é€»è¾‘æ˜¯ï¼š
   - å…ˆåˆå§‹åŒ–é”šç‚¹ï¼ˆè®°å½•å½“å‰åº•éƒ¨ä¸­å¿ƒï¼‰
   - ç„¶ååº”ç”¨æ–° Sprite
   - è®¡ç®—æ–°æ—§åº•éƒ¨ä¸­å¿ƒçš„å·®å€¼
   - ä¿®æ­£ä½ç½®
5. **å…³é”®**ï¼šåˆå§‹æ”¾ç½®æ—¶ï¼ŒSprite æ²¡æœ‰å˜åŒ–ï¼Œæ‰€ä»¥ `delta = 0`ï¼Œ**ä¸ä¼šä¿®æ­£ä½ç½®**ï¼

### 4.4 æ›´æ·±å±‚çš„é—®é¢˜

ChestController çš„åº•éƒ¨å¯¹é½æœºåˆ¶æ˜¯ä¸º **Sprite åˆ‡æ¢** è®¾è®¡çš„ï¼ˆå¼€/å…³çŠ¶æ€ï¼‰ï¼Œä¸æ˜¯ä¸º **åˆå§‹æ”¾ç½®** è®¾è®¡çš„ã€‚

è€Œ TreeControllerV2 çš„åº•éƒ¨å¯¹é½æœºåˆ¶æ˜¯ä¸º **æ¯æ¬¡ Sprite æ›´æ–°** è®¾è®¡çš„ï¼ŒåŒ…æ‹¬åˆå§‹æ”¾ç½®ã€‚

---

## äº”ã€ä¸ºä»€ä¹ˆè®¾è®¡æ„å›¾ä¸€è‡´ä½†å®ç°ä¸åŒï¼Ÿ

### 5.1 å†å²åŸå› æ¨æµ‹

1. **TreeControllerV2**ï¼šæ ‘æœ¨æœ‰å¤šä¸ªç”Ÿé•¿é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µ Sprite ä¸åŒï¼Œéœ€è¦æ¯æ¬¡éƒ½é‡æ–°å¯¹é½
2. **ChestController**ï¼šç®±å­åªæœ‰å¼€/å…³ä¸¤ç§çŠ¶æ€ï¼Œè®¾è®¡æ—¶åªè€ƒè™‘äº†çŠ¶æ€åˆ‡æ¢æ—¶çš„å¯¹é½

### 5.2 ç´ æå¤„ç†çš„å·®å¼‚

ç”¨æˆ·æåˆ°"å¯èƒ½æ˜¯ç´ æå¤„ç†é—®é¢˜"ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§‚å¯Ÿï¼š

- **æ ‘è‹—é¢„åˆ¶ä½“**ï¼šå­ç‰©ä½“ `localPosition.y = 2`ï¼ˆæœ‰åˆå§‹åç§»ï¼‰
- **ç®±å­é¢„åˆ¶ä½“**ï¼šå­ç‰©ä½“ `localPosition.y = 0`ï¼ˆæ— åˆå§‹åç§»ï¼‰

è¿™è¯´æ˜ï¼š
- æ ‘è‹—çš„ç´ æå¤„ç†**ä¾èµ–**åº•éƒ¨å¯¹é½æ¥ä¿®æ­£ä½ç½®
- ç®±å­çš„ç´ æå¤„ç†**ä¸ä¾èµ–**åº•éƒ¨å¯¹é½ï¼ˆå·²ç»æ˜¯æ­£ç¡®ä½ç½®ï¼‰

---

## å…­ã€æ”¹è¿›æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šæ£€æµ‹ç»„ä»¶ç±»å‹ï¼ˆæ¨èï¼‰

åœ¨ `GetColliderCenterAfterBottomAlign()` ä¸­æ£€æµ‹æ˜¯å¦æœ‰ä¼šæ‰§è¡Œåº•éƒ¨å¯¹é½çš„ç»„ä»¶ï¼š

```csharp
public static Vector2 GetColliderCenterAfterBottomAlign(GameObject prefab)
{
    if (prefab == null) return Vector2.zero;
    
    // â˜… æ£€æµ‹æ˜¯å¦æœ‰ä¼šåœ¨åˆå§‹æ”¾ç½®æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½çš„ç»„ä»¶
    var treeController = prefab.GetComponentInChildren<TreeControllerV2>();
    var treeControllerOld = prefab.GetComponentInChildren<TreeController>();
    var stoneController = prefab.GetComponentInChildren<StoneController>();
    
    // è¿™äº›ç»„ä»¶ä¼šåœ¨ Start/UpdateSprite æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½
    bool willExecuteBottomAlign = (treeController != null) || 
                                   (treeControllerOld != null) || 
                                   (stoneController != null);
    
    // ChestController ä¸ä¼šåœ¨åˆå§‹æ”¾ç½®æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½ï¼Œæ‰€ä»¥ä¸åŒ…å«åœ¨å†…
    
    var sr = prefab.GetComponentInChildren<SpriteRenderer>();
    
    // å¦‚æœä¸ä¼šæ‰§è¡Œåº•éƒ¨å¯¹é½ï¼Œæˆ–æ²¡æœ‰ SpriteRenderer
    if (!willExecuteBottomAlign || sr == null || sr.sprite == null)
    {
        return GetColliderLocalCenter(prefab);
    }
    
    // åªæœ‰ä¼šæ‰§è¡Œåº•éƒ¨å¯¹é½çš„ç‰©å“æ‰è®¡ç®—åç§»
    float bottomAlignOffset = -sr.sprite.bounds.min.y;
    Vector2 colliderCenter = GetColliderLocalCenter(prefab);
    
    return new Vector2(colliderCenter.x, colliderCenter.y + bottomAlignOffset);
}
```

**ä¼˜ç‚¹**ï¼š
- æœ€å°æ”¹åŠ¨
- è‡ªåŠ¨é€‚åº”ä¸åŒç±»å‹çš„ç‰©å“
- ä¸éœ€è¦ä¿®æ”¹ ItemData

**ç¼ºç‚¹**ï¼š
- ä¾èµ–ç»„ä»¶ç±»å‹åˆ¤æ–­ï¼Œä¸å¤Ÿé€šç”¨
- æ–°å¢å¯æ”¾ç½®ç‰©å“æ—¶éœ€è¦æ›´æ–°æ£€æµ‹åˆ—è¡¨

### æ–¹æ¡ˆ Bï¼šç»Ÿä¸€åº•éƒ¨å¯¹é½æœºåˆ¶ï¼ˆé•¿æœŸæ–¹æ¡ˆï¼‰

è®© ChestController ä¹Ÿåœ¨åˆå§‹æ”¾ç½®æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½ï¼š

```csharp
// ChestController.Initialize() ä¸­æ·»åŠ 
private void Initialize()
{
    // ... ç°æœ‰ä»£ç  ...
    
    // â˜… æ–°å¢ï¼šåˆå§‹æ”¾ç½®æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½
    AlignSpriteBottomOnInitialPlacement();
}

private void AlignSpriteBottomOnInitialPlacement()
{
    if (_spriteRenderer == null || _spriteRenderer.sprite == null) return;
    
    // ä½¿ç”¨ä¸ TreeControllerV2 ç›¸åŒçš„é€»è¾‘
    Bounds spriteBounds = _spriteRenderer.sprite.bounds;
    float spriteBottomOffset = spriteBounds.min.y;
    
    Vector3 localPos = _spriteRenderer.transform.localPosition;
    localPos.y = -spriteBottomOffset;
    _spriteRenderer.transform.localPosition = localPos;
    
    // æ›´æ–°é”šç‚¹
    _anchorWorldPos = GetCurrentBottomCenterWorld();
    _anchorInitialized = true;
}
```

**ä¼˜ç‚¹**ï¼š
- ä»æ ¹æœ¬ä¸Šç»Ÿä¸€è¡Œä¸º
- æ”¾ç½®ç³»ç»Ÿä¸éœ€è¦ç‰¹æ®Šå¤„ç†

**ç¼ºç‚¹**ï¼š
- éœ€è¦ä¿®æ”¹ ChestController
- å¯èƒ½å½±å“ç°æœ‰ç®±å­çš„ä½ç½®
- éœ€è¦é‡æ–°è°ƒæ•´ç®±å­é¢„åˆ¶ä½“

### æ–¹æ¡ˆ Cï¼šåœ¨ ItemData ä¸­æ·»åŠ æ ‡å¿—ä½

åœ¨ `PlaceableItemData` ä¸­æ·»åŠ ï¼š

```csharp
[Header("æ”¾ç½®è®¾ç½®")]
[Tooltip("æ”¾ç½®åæ˜¯å¦ä¼šæ‰§è¡Œåº•éƒ¨å¯¹é½ï¼ˆTreeControllerV2 ç­‰ä¼šæ‰§è¡Œï¼‰")]
public bool willExecuteBottomAlign = false;
```

**ä¼˜ç‚¹**ï¼š
- æ›´åŠ æ˜ç¡®å’Œå¯æ§
- ä¸ä¾èµ–ç»„ä»¶ç±»å‹

**ç¼ºç‚¹**ï¼š
- éœ€è¦æ‰‹åŠ¨é…ç½®æ¯ä¸ªç‰©å“
- éœ€è¦ä¿®æ”¹ ItemData ç»“æ„

---

## ä¸ƒã€æ¨èæ–¹æ¡ˆ

### ğŸ”´ æ¨èæ–¹æ¡ˆ Bï¼šç»Ÿä¸€åº•éƒ¨å¯¹é½æœºåˆ¶ï¼ˆç”¨æˆ·å†³ç­–ï¼‰

**ç”¨æˆ·å†³ç­–**ï¼šé€šè¿‡è§„èŒƒå¼€å‘æ¥ç®€åŒ–ä»£ç é€»è¾‘ï¼Œè€Œä¸æ˜¯åœ¨æ”¾ç½®ç³»ç»Ÿä¸­åšç‰¹æ®Šå¤„ç†ã€‚

**ç†ç”±**ï¼š
1. ä»æ ¹æœ¬ä¸Šç»Ÿä¸€æ‰€æœ‰å¯æ”¾ç½®ç‰©å“çš„è¡Œä¸º
2. æ”¾ç½®ç³»ç»Ÿä¸éœ€è¦æ£€æµ‹ç»„ä»¶ç±»å‹åšç‰¹æ®Šå¤„ç†
3. ä»£ç é€»è¾‘æ›´ç®€æ´ã€æ›´å¯ç»´æŠ¤
4. ä¸ºåç»­æ–°å¢ç‰©å“ï¼ˆç§å­ã€å·¥ä½œå°ï¼‰æä¾›ç»Ÿä¸€è§„èŒƒ

**å®æ–½å†…å®¹**ï¼š
1. âœ… å·²åˆ›å»º `7_å¯æ”¾ç½®ç‰©å“å¼€å‘è§„èŒƒ` å­å·¥ä½œåŒº
2. âœ… å·²åˆ›å»º `.kiro/steering/placeable-items.md` è§„åˆ™æ–‡ä»¶
3. ğŸ“‹ å¾…ä¿®æ”¹ ChestController ä½¿å…¶ç¬¦åˆè§„èŒƒ

**ChestController éœ€è¦çš„ä¿®æ”¹**ï¼š
- æ·»åŠ  `AlignSpriteBottom()` æ–¹æ³•ï¼ˆä¸ TreeControllerV2 ä¸€è‡´ï¼‰
- åœ¨ `Initialize()` ä¸­è°ƒç”¨
- ä¿®æ”¹ `UpdateSpriteForState()` ä½¿ç”¨æ–°æ–¹æ³•

### æ–¹æ¡ˆ Aï¼ˆå¤‡é€‰ï¼‰ï¼šæ£€æµ‹ç»„ä»¶ç±»å‹

å¦‚æœä¸æƒ³ä¿®æ”¹ ChestControllerï¼Œå¯ä»¥åœ¨æ”¾ç½®ç³»ç»Ÿä¸­æ£€æµ‹ç»„ä»¶ç±»å‹åšç‰¹æ®Šå¤„ç†ã€‚ä½†è¿™ä¼šå¢åŠ ä»£ç å¤æ‚åº¦ï¼Œä¸æ¨èã€‚

---

## å…«ã€å®æ–½æ­¥éª¤

### æ­¥éª¤ 1ï¼šä¿®æ”¹ ChestControllerï¼ˆæ¨èæ–¹æ¡ˆï¼‰

åœ¨ ChestController ä¸­æ·»åŠ ä¸ TreeControllerV2 ä¸€è‡´çš„åº•éƒ¨å¯¹é½æ–¹æ³•ï¼š

```csharp
/// <summary>
/// åº•éƒ¨å¯¹é½ - ä¸ TreeControllerV2 ä¿æŒä¸€è‡´
/// </summary>
private void AlignSpriteBottom()
{
    if (_spriteRenderer == null || _spriteRenderer.sprite == null) return;
    
    Bounds spriteBounds = _spriteRenderer.sprite.bounds;
    float spriteBottomOffset = spriteBounds.min.y;
    
    Vector3 localPos = _spriteRenderer.transform.localPosition;
    localPos.y = -spriteBottomOffset;
    _spriteRenderer.transform.localPosition = localPos;
    
    // æ›´æ–°é”šç‚¹ï¼ˆç”¨äºåç»­ Sprite åˆ‡æ¢æ—¶çš„ç›¸å¯¹å¯¹é½ï¼‰
    _anchorWorldPos = GetCurrentBottomCenterWorld();
    _anchorInitialized = true;
}
```

### æ­¥éª¤ 2ï¼šåœ¨ Initialize() ä¸­è°ƒç”¨

```csharp
public void Initialize(StorageData data, int capacity)
{
    // ... ç°æœ‰ä»£ç  ...
    
    // â˜… æ–°å¢ï¼šåˆå§‹æ”¾ç½®æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½
    AlignSpriteBottom();
}
```

### æ­¥éª¤ 3ï¼šä¿®æ”¹ UpdateSpriteForState()

```csharp
private void UpdateSpriteForState()
{
    Sprite targetSprite = _isOpen ? _openSprite : _closedSprite;
    if (targetSprite == null) return;
    
    _spriteRenderer.sprite = targetSprite;
    
    // â˜… ä½¿ç”¨ç»Ÿä¸€çš„åº•éƒ¨å¯¹é½æ–¹æ³•
    AlignSpriteBottom();
    
    UpdateColliderShape();
}
```

### æ­¥éª¤ 4ï¼šç§»é™¤æ—§çš„ ApplySpriteWithBottomAlign()

æ—§æ–¹æ³•å¯ä»¥ä¿ç•™ä½œä¸ºå¤‡ç”¨ï¼Œæˆ–è€…å®Œå…¨ç§»é™¤ã€‚

---

## ä¹ã€éªŒè¯æ¸…å•

ä¿®å¤åéœ€è¦éªŒè¯ï¼š

- [ ] æ ‘è‹—æ”¾ç½®ï¼šé¢„è§ˆä½ç½® = æ”¾ç½®ä½ç½®
- [ ] ç®±å­æ”¾ç½®ï¼šé¢„è§ˆä½ç½® = æ”¾ç½®ä½ç½®
- [ ] çŸ³å¤´æ”¾ç½®ï¼ˆå¦‚æœæœ‰ï¼‰ï¼šé¢„è§ˆä½ç½® = æ”¾ç½®ä½ç½®
- [ ] å…¶ä»–å¯æ”¾ç½®ç‰©å“ï¼šé¢„è§ˆä½ç½® = æ”¾ç½®ä½ç½®
- [ ] å¤šæ¬¡æ”¾ç½®åŒä¸€ç‰©å“ï¼šä½ç½®ä¸€è‡´
- [ ] ä¸åŒå¤§å°çš„ç‰©å“ï¼šä½ç½®æ­£ç¡®

---

## åã€è®¾è®¡è§„èŒƒå»ºè®®ï¼ˆé•¿æœŸï¼‰

ä¸ºé¿å…ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿï¼Œå»ºè®®åœ¨ steering è§„åˆ™ä¸­æ·»åŠ ï¼š

### å¯æ”¾ç½®ç‰©å“åº•éƒ¨å¯¹é½è§„èŒƒ

1. **æ‰€æœ‰å¯æ”¾ç½®ç‰©å“å¿…é¡»åœ¨åˆå§‹æ”¾ç½®æ—¶æ‰§è¡Œåº•éƒ¨å¯¹é½**
2. **åº•éƒ¨å¯¹é½æœºåˆ¶å¿…é¡»ç»Ÿä¸€**ï¼š
   - ä¿®æ”¹å­ç‰©ä½“çš„ `localPosition.y = -sprite.bounds.min.y`
   - æˆ–è€…åœ¨é¢„åˆ¶ä½“ä¸­é¢„å…ˆè®¾ç½®æ­£ç¡®çš„ä½ç½®
3. **æ–°å¢å¯æ”¾ç½®ç‰©å“æ—¶**ï¼š
   - æ£€æŸ¥æ˜¯å¦æœ‰åº•éƒ¨å¯¹é½æœºåˆ¶
   - å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦æ·»åŠ æˆ–åœ¨æ”¾ç½®ç³»ç»Ÿä¸­ç‰¹æ®Šå¤„ç†

---

**æ–‡æ¡£ç»´æŠ¤è€…**: Kiro  
**æœ€åæ›´æ–°**: 2026-01-21
