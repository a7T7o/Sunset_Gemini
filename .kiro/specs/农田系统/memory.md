# å†œç”°ç³»ç»Ÿ - å¼€å‘è®°å¿†

## æ¨¡å—æ¦‚è¿°

å†œç”°ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š
- è€•åœ°çŠ¶æ€ç®¡ç†
- ä½œç‰©ç”Ÿé•¿å‘¨æœŸ
- æ°´åˆ†ç³»ç»Ÿ
- å­£èŠ‚é€‚åº”æ€§
- **ç§å­ç§æ¤**ï¼ˆSeedData ä¸“å±ï¼Œä¸æ ‘è‹—åˆ†ç¦»ï¼‰

## å½“å‰çŠ¶æ€

- **å®Œæˆåº¦**: 30%
- **æœ€åæ›´æ–°**: 2026-01-22
- **çŠ¶æ€**: ğŸš§ è¿›è¡Œä¸­ï¼ˆè°ƒç ”å®Œæˆï¼Œå¾…å¼€å‘ï¼‰

---

## ğŸ”´ğŸ”´ğŸ”´ é‡è¦æ¶æ„å†³ç­–ï¼šç§å­å½’å±å†œç”°ç³»ç»Ÿ ğŸ”´ğŸ”´ğŸ”´

**å†³ç­–æ—¥æœŸ**: 2025-12-30

**ç§å­ï¼ˆSeedDataï¼‰ç”±å†œç”°ç³»ç»Ÿï¼ˆFarmingSystemï¼‰ç®¡ç†ï¼Œä¸æ ‘è‹—ï¼ˆSaplingDataï¼‰åˆ†ç¦»ã€‚**

### ç³»ç»Ÿè¾¹ç•Œ

```
å†œç”°ç³»ç»Ÿ (FarmingSystem)
â”œâ”€â”€ è€•åœ°ç®¡ç† - Tilemap ä¸Šçš„è€•åœ°çŠ¶æ€
â”œâ”€â”€ ç§å­ç§æ¤ - SeedData æ”¾ç½®åˆ°è€•åœ°
â”œâ”€â”€ ä½œç‰©ç”Ÿé•¿ - æ¯æ—¥æ£€æµ‹æµ‡æ°´ã€æ›´æ–°ç”Ÿé•¿å¤©æ•°
â”œâ”€â”€ æµ‡æ°´ç³»ç»Ÿ - åœŸå£¤æ¹¿åº¦ç®¡ç†
â””â”€â”€ æ”¶è·ç³»ç»Ÿ - æ”¶è·ä½œç‰©

æ”¾ç½®ç³»ç»Ÿ (PlacementManager)
â”œâ”€â”€ æ ‘è‹—æ”¾ç½® - SaplingData æ”¾ç½®åˆ°ä¸–ç•Œåæ ‡
â”œâ”€â”€ å·¥ä½œå°æ”¾ç½® - WorkstationData
â”œâ”€â”€ å­˜å‚¨å®¹å™¨æ”¾ç½® - StorageData
â””â”€â”€ å…¶ä»–å¯æ”¾ç½®ç‰©å“
```

### ç§å­ vs æ ‘è‹—

| ç‰¹æ€§ | ç§å­ (SeedData) | æ ‘è‹— (SaplingData) |
|------|----------------|-------------------|
| **æ‰€å±ç³»ç»Ÿ** | å†œç”°ç³»ç»Ÿ | æ”¾ç½®ç³»ç»Ÿ |
| **æ”¾ç½®ç›®æ ‡** | è€•åœ° Tilemap | ä¸–ç•Œåæ ‡ |
| **ç”Ÿé•¿ç®¡ç†** | FarmingSystem | TreeControllerV2 |
| **æµ‡æ°´éœ€æ±‚** | âœ… éœ€è¦ | âŒ ä¸éœ€è¦ |

è¯¦è§ï¼š`.kiro/specs/ç‰©å“æ”¾ç½®ç³»ç»Ÿ/memory.md` ä¼šè¯ 7

---

## æ ¸å¿ƒåŠŸèƒ½

### åœŸå£¤çŠ¶æ€
```csharp
public enum SoilMoistureState
{
    Dry,           // å¹²ç‡¥
    WetWithPuddle, // æ¹¿æ¶¦å¸¦æ°´æ´¼ï¼ˆæµ‡æ°´å2å°æ—¶å†…ï¼‰
    WetDark        // æ¹¿æ¶¦æ·±è‰²ï¼ˆæµ‡æ°´2å°æ—¶åï¼‰
}
```

### FarmTileData å­—æ®µ
- `isTilled` - æ˜¯å¦å·²è€•ä½œ
- `wateredToday` - ä»Šå¤©æ˜¯å¦æµ‡æ°´
- `wateredYesterday` - æ˜¨å¤©æ˜¯å¦æµ‡æ°´
- `waterTime` - æµ‡æ°´æ—¶é—´
- `moistureState` - å½“å‰æ¹¿åº¦çŠ¶æ€
- `crop` - ä½œç‰©å®ä¾‹

### æ—¶é—´ç³»ç»Ÿé›†æˆ
- ä½¿ç”¨é™æ€äº‹ä»¶è®¢é˜…
- `TimeManager.OnDayChanged` / `OnHourChanged`

## å¾…å®ŒæˆåŠŸèƒ½

### P0 - æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¿…é¡»å®Œæˆï¼‰

- [ ] **è€•åœ°ç³»ç»Ÿ**
  - [ ] åˆ›å»ºè€•åœ° Tilemapï¼ˆTilledã€Watered çŠ¶æ€ï¼‰
  - [ ] FarmingManager ç®¡ç†è€•åœ°çŠ¶æ€
  - [ ] é”„å¤´å·¥å…·ä¸è€•åœ°äº¤äº’
  - [ ] è€•åœ°çŠ¶æ€æŒä¹…åŒ–

- [ ] **ç§æ¤ç³»ç»Ÿ**
  - [ ] SeedData æ”¾ç½®åˆ°è€•åœ°
  - [ ] ç§æ¤ä½ç½®éªŒè¯ï¼ˆå¿…é¡»æ˜¯å·²è€•ä½œçš„åœŸåœ°ï¼‰
  - [ ] ç§æ¤ååˆ›å»ºä½œç‰©å®ä¾‹
  - [ ] å­£èŠ‚æ£€æŸ¥ï¼ˆä¸åŒå­£èŠ‚ä¸åŒç§å­ï¼‰

- [ ] **æµ‡æ°´ç³»ç»Ÿ**
  - [ ] æ°´å£¶å·¥å…·ä¸è€•åœ°äº¤äº’
  - [ ] åœŸå£¤æ¹¿åº¦çŠ¶æ€ç®¡ç†ï¼ˆDry â†’ WetWithPuddle â†’ WetDarkï¼‰
  - [ ] æ¯æ—¥æ¹¿åº¦é‡ç½®

- [ ] **æ”¶è·ç³»ç»Ÿ**
  - [ ] ä½œç‰©æˆç†Ÿæ£€æµ‹
  - [ ] æ”¶è·äº¤äº’
  - [ ] æ‰è½ç‰©å“ç”Ÿæˆ
  - [ ] å¯é‡å¤æ”¶è·ä½œç‰©å¤„ç†

### P1 - é‡è¦åŠŸèƒ½

- [ ] **ç²¾åŠ›å€¼æ¶ˆè€—**
  - [ ] è€•åœ°æ¶ˆè€—ç²¾åŠ›
  - [ ] æµ‡æ°´æ¶ˆè€—ç²¾åŠ›
  - [ ] æ”¶è·æ¶ˆè€—ç²¾åŠ›

- [ ] **ä½œç‰©ç”Ÿé•¿**
  - [ ] æ¯æ—¥ç”Ÿé•¿æ£€æµ‹
  - [ ] æµ‡æ°´çŠ¶æ€å½±å“ç”Ÿé•¿
  - [ ] ç”Ÿé•¿é˜¶æ®µ Sprite åˆ‡æ¢
  - [ ] æ¯èç³»ç»Ÿï¼ˆé•¿æœŸä¸æµ‡æ°´ï¼‰

### P2 - æ‰©å±•åŠŸèƒ½

- [ ] è‚¥æ–™ç³»ç»Ÿ
- [ ] å“è´¨å½±å“
- [ ] å­£èŠ‚å˜åŒ–æ•ˆæœ
- [ ] éŸ³æ•ˆå’Œç²’å­æ•ˆæœ

## ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `Assets/Scripts/Farm/` | å†œç”°ç³»ç»Ÿè„šæœ¬ |
| `Assets/Scripts/Data/Items/SeedData.cs` | ç§å­æ•°æ® |
| `Assets/Scripts/Data/Items/CropData.cs` | ä½œç‰©æ•°æ® |

## è¯¦ç»†æ–‡æ¡£

- `Docx/åˆ†ç±»/å†œç”°/000_å†œç”°ç³»ç»Ÿå®Œæ•´æ–‡æ¡£.md`


---

### ä¼šè¯ 3 - 2026-01-22ï¼ˆå…¨é¢è°ƒç ”ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> éå†æ•´ä¸ªé¡¹ç›®æ¥å¯»æ‰¾æœ‰å…³è€•åœ°çš„å†…å®¹ï¼Œå¹¶è¿›è¡Œè¯¦ç»†è®°å½•å’Œæ‘˜è¦è¿˜æœ‰ç´¢å¼•ï¼Œæˆ‘ä»¬è¦è¿›è¡Œä¸€ä¸ªè¯¦ç»†çš„å®Œæ•´çš„å¼€å‘

**å®Œæˆä»»åŠ¡**:
1. âœ… æœç´¢é¡¹ç›®ä¸­æ‰€æœ‰å†œç”°ç›¸å…³å†…å®¹
2. âœ… è¯»å–ç°æœ‰ specs æ–‡æ¡£ï¼ˆrequirements.mdã€design.mdã€tasks.mdã€RuleTileé…ç½®æŒ‡å—.mdï¼‰
3. âœ… è¯»å– Docx ä¸­çš„è®¾è®¡æ–‡æ¡£ï¼ˆ4 ä¸ªè®¾è®¡æ–‡æ¡£ + 2 ä¸ªåˆ†ç±»æ–‡æ¡£ï¼‰
4. âœ… è¯»å–ä»£ç æ–‡ä»¶ï¼ˆ6 ä¸ªæ ¸å¿ƒè„šæœ¬ + 2 ä¸ªç¼–è¾‘å™¨å·¥å…·ï¼‰
5. âœ… è¯»å– steering è§„åˆ™ï¼ˆfarming.mdã€layers.mdï¼‰
6. âœ… åˆ›å»ºè¯¦ç»†çš„è°ƒç ”æŠ¥å‘Š

**ä¿®æ”¹æ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/1_å†œç”°ç³»ç»Ÿå…¨é¢è°ƒç ”/memory.md` - å­å·¥ä½œåŒºè®°å¿†
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/1_å†œç”°ç³»ç»Ÿå…¨é¢è°ƒç ”/è°ƒç ”æŠ¥å‘Š.md` - è¯¦ç»†è°ƒç ”æŠ¥å‘Š
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶ï¼ˆè¿½åŠ ä¼šè¯è®°å½•ï¼‰

**è°ƒç ”ç»“æœæ‘˜è¦**:

| æ¨¡å— | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|------|
| æ•°æ®ç»“æ„ | 90% | âœ… åŸºæœ¬å®Œæˆ |
| FarmingManager | 80% | âš ï¸ éœ€å®Œå–„ |
| CropGrowthSystem | 85% | âš ï¸ éœ€å®Œå–„ |
| Tilemap é…ç½® | 30% | ğŸš§ è¿›è¡Œä¸­ |
| å·¥å…·é›†æˆ | 10% | âŒ æœªå¼€å§‹ |
| UI é›†æˆ | 0% | âŒ æœªå¼€å§‹ |
| èƒŒåŒ…é›†æˆ | 0% | âŒ æœªå¼€å§‹ |

**è¯¦ç»†æŠ¥å‘Š**: `.kiro/specs/å†œç”°ç³»ç»Ÿ/1_å†œç”°ç³»ç»Ÿå…¨é¢è°ƒç ”/è°ƒç ”æŠ¥å‘Š.md`

**é—ç•™é—®é¢˜**:
- [ ] ç­‰å¾…ç”¨æˆ·ç¡®è®¤è°ƒç ”ç»“æœ
- [ ] æ ¹æ®è°ƒç ”ç»“æœåˆ¶å®šå¼€å‘è®¡åˆ’
- [ ] ç”¨æˆ·é…ç½® Rule Tile å’Œåœºæ™¯ç»“æ„

---

### ä¼šè¯ 1 - 2025-12-30ï¼ˆå‡†å¤‡å¼€å§‹ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> åç»­æˆ‘å°±ä¼šç«‹é©¬ç€æ‰‹è€•åœ°ç³»ç»Ÿ

**å‡†å¤‡å·¥ä½œ**:
- âœ… ç¡®è®¤æ¶æ„å†³ç­–ï¼šç§å­å½’å†œç”°ç³»ç»Ÿï¼Œæ ‘è‹—å½’æ”¾ç½®ç³»ç»Ÿ
- âœ… æ›´æ–° memory.md æ·»åŠ è¯¦ç»†ä»»åŠ¡åˆ—è¡¨
- â³ ç­‰å¾…ç”¨æˆ·å¼€å§‹å®ç°

**æ¨èå®ç°é¡ºåº**:

1. **è€•åœ° Tilemap è®¾ç½®**
   - åˆ›å»º Tilled Tileï¼ˆå·²è€•ä½œï¼‰
   - åˆ›å»º Watered Tileï¼ˆå·²æµ‡æ°´ï¼‰
   - è®¾ç½® Tilemap å±‚çº§

2. **FarmingManager æ ¸å¿ƒ**
   - è€•åœ°çŠ¶æ€å­—å…¸ `Dictionary<Vector3Int, FarmTileData>`
   - æ—¶é—´ç³»ç»Ÿé›†æˆï¼ˆæ¯æ—¥æ›´æ–°ï¼‰
   - è€•åœ°/æµ‡æ°´/ç§æ¤/æ”¶è·æ–¹æ³•

3. **å·¥å…·äº¤äº’**
   - é”„å¤´ â†’ è€•åœ°
   - æ°´å£¶ â†’ æµ‡æ°´
   - æ‰‹ â†’ æ”¶è·

4. **ç§å­ç§æ¤**
   - SeedData æ£€æµ‹è€•åœ°çŠ¶æ€
   - åˆ›å»º CropInstance
   - ç”Ÿé•¿é˜¶æ®µç®¡ç†

5. **æ”¶è·ç³»ç»Ÿ**
   - æˆç†Ÿæ£€æµ‹
   - ç‰©å“æ‰è½
   - å¯é‡å¤æ”¶è·

**é—ç•™é—®é¢˜**:
- [x] ç­‰å¾…ç”¨æˆ·å¼€å§‹å®ç°

---

### ä¼šè¯ 2 - 2025-12-31ï¼ˆè€•åœ°ç³»ç»Ÿé‡æ„è§„åˆ’ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> å¯¹äºå†œç”°è®¾è®¡æˆ‘éœ€è¦ä½ ç»“åˆå½“å‰çš„ç‰©å“æ”¾ç½®ç³»ç»Ÿè¿˜æœ‰æ—¶é—´å­£èŠ‚ç³»ç»Ÿæ¥åšå®Œå–„...æˆ‘ç°åœ¨çš„èµ„æºå°±æ˜¯åŸå§‹çš„spriteï¼Œæœ‰ä¸Šä¸‹å·¦å³ä¸­ï¼Œç„¶åä¸­é—´éƒ¨åˆ†æœ‰ä¸¤ä¸ªæ ·å¼ï¼Œæˆ‘è¿˜æœ‰ä¸‰ä¸ªæ°´æ¸çš„æ ·å¼ï¼Œç„¶åæˆ‘å¸Œæœ›å†œç”°çš„åˆ›å»ºå°±æ˜¯æˆ‘ç”¨é”„å¤´å³é”®åœ°é¢ï¼Œå°±ä¼šé”„å¼€ä¸€ä¸ªåŒºåŸŸï¼Œå¦‚æœæ˜¯æœ€åˆçš„ç¬¬ä¸€ä¸ªç©ºé‚£å°±æ˜¯ä¸Šä¸‹å·¦å³å’Œä¸­å¿ƒéƒ½è¢«åˆ›å»ºäº†ï¼Œå¦‚æœä¸æ˜¯åˆ™å¾€å¤–æ‰©

**å…³é”®æ¾„æ¸…**:
ç”¨æˆ·çš„åœºæ™¯æ˜¯**é˜¶æ¢¯å¼æ¥¼å±‚ç»“æ„**ï¼š
- LAYER 1 = ä¸€æ¥¼ï¼ŒLAYER 2 = äºŒæ¥¼ï¼Œä»¥æ­¤ç±»æ¨
- æ¯ä¸ªæ¥¼å±‚å†…éƒ¨ç»“æ„å®Œå…¨ä¸€è‡´ï¼ˆProps + Tilemapsï¼‰
- è€•åœ°éœ€è¦åœ¨æ¯ä¸ªæ¥¼å±‚ç‹¬ç«‹ç®¡ç†

**å®Œæˆä»»åŠ¡**:
1. âœ… æ›´æ–° `.kiro/steering/layers.md` - ä¿®æ­£ä¸ºé˜¶æ¢¯å¼æ¥¼å±‚ç»“æ„
2. âœ… åˆ›å»º `0_è€•åœ°ç³»ç»Ÿé‡æ„/requirements.md` - 6 ä¸ªéœ€æ±‚
3. âœ… åˆ›å»º `0_è€•åœ°ç³»ç»Ÿé‡æ„/design.md` - æ¶æ„è®¾è®¡ã€Rule Tile é…ç½®
4. âœ… åˆ›å»º `0_è€•åœ°ç³»ç»Ÿé‡æ„/RuleTileé…ç½®æŒ‡å—.md` - è¯¦ç»†é…ç½®æ­¥éª¤
5. âœ… åˆ›å»º `0_è€•åœ°ç³»ç»Ÿé‡æ„/tasks.md` - åˆ†é˜¶æ®µå®ç°è®¡åˆ’

**è®¾è®¡æ–¹æ¡ˆ**:

### Rule Tile è‡ªåŠ¨è¾¹ç•Œæ‹¼æ¥
- ä½¿ç”¨ Unity Rule Tile å®ç°è€•åœ°è¾¹ç•Œè‡ªåŠ¨æ‹¼æ¥
- å•ç‹¬ä¸€æ ¼ â†’ æ˜¾ç¤ºå®Œæ•´è¾¹ç•Œ
- ç›¸é‚»æœ‰è€•åœ° â†’ è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸­å¿ƒæ ·å¼
- ä¸­å¿ƒæœ‰ 2 ç§æ ·å¼å˜ä½“ï¼Œéšæœºé€‰æ‹©

### å¤šæ¥¼å±‚æ”¯æŒ
```
â”€â”€â”€ LAYER N â”€â”€â”€
â””â”€â”€ Tilemaps/
    â”œâ”€â”€ GroundBase        # åœ°é¢åŸºç¡€
    â”œâ”€â”€ Farmland          # è€•åœ° Tilemapï¼ˆä½¿ç”¨ Rule Tileï¼‰
    â””â”€â”€ WaterPuddle       # æ°´æ¸å åŠ å±‚
```

### æ°´æ¸ç³»ç»Ÿ
- ç‹¬ç«‹çš„ WaterPuddle Tilemap å åŠ åœ¨ Farmland ä¹‹ä¸Š
- æµ‡æ°´æ—¶éšæœºé€‰æ‹© 3 ç§æ°´æ¸æ ·å¼ä¹‹ä¸€
- ç¬¬äºŒå¤©è‡ªåŠ¨æ¸…é™¤

**ç”¨æˆ·ç´ æ**:
- è€•åœ°è¾¹ç•Œï¼šä¸Šã€ä¸‹ã€å·¦ã€å³ã€ä¸­å¿ƒ Aã€ä¸­å¿ƒ B
- æ°´æ¸ï¼š3 ç§æ ·å¼

**é—ç•™é—®é¢˜**:
- [ ] ç”¨æˆ·é…ç½® Rule Tile
- [ ] ç”¨æˆ·åˆ›å»ºåœºæ™¯ Tilemap ç»“æ„
- [ ] é…ç½®å®Œæˆåç»§ç»­ä»£ç å®ç°


---

### ä¼šè¯ 4 - 2026-01-24ï¼ˆå…¨é¢é”è¯„ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> è¯·ä½ ç°åœ¨æ ¹æ®ä½ å¯¹å½“å‰é¡¹ç›®ä»¥åŠå†œç”°ç³»ç»Ÿå†…å®¹çš„äº†è§£ï¼Œæ¥å¯¹å½“å‰çš„å†œç”°ç³»ç»Ÿå†…å®¹è¿›è¡Œä¸€ä¸ªå®¢è§‚çš„å®Œæ•´çš„é”è¯„ï¼Œéœ€è¦é’ˆå¯¹ä¸å½“å‰é¡¹ç›®çš„é€‚é…é—®é¢˜ä»¥åŠä¹‹å‰æ€è·¯çŠ¶æ€ä¸‹å®Œæˆçš„ä»£ç çš„è´¨é‡è¿›è¡Œä¸¥æ ¼æ£€æŸ¥ï¼Œé€»è¾‘æ¼æ´å’Œæ€§èƒ½é»‘æ´ç­‰å†…å®¹è¿›è¡Œæ£€æŸ¥ï¼Œç»“æ„çš„å®Œæ•´å’Œä»¥åŠéªŒæ”¶æ‰€éœ€è¦çš„æ‰€æœ‰å‰ç½®æ¡ä»¶å†…å®¹éƒ½éœ€è¦å†™å…¥è¿™ä¸ªé”è¯„å†…å®¹ï¼Œå¹¶ä¸”ä½ åˆ†æå®Œä¹‹åè¿˜éœ€è¦ç»™å‡ºè¯¦ç»†çš„æ¸…å•

**å®Œæˆä»»åŠ¡**:
1. âœ… è¯»å–æ‰€æœ‰å†œç”°ç³»ç»Ÿä»£ç æ–‡ä»¶ï¼ˆ6 ä¸ªæ ¸å¿ƒè„šæœ¬ï¼‰
2. âœ… è¯»å–æ‰€æœ‰ç›¸å…³æ–‡æ¡£ï¼ˆspecsã€steeringã€è°ƒç ”æŠ¥å‘Šï¼‰
3. âœ… è¯»å–é¡¹ç›®å®¡è®¡æ–‡æ¡£äº†è§£æ•´ä½“æ¶æ„
4. âœ… è¯»å– TimeManager äº†è§£æ—¶é—´ç³»ç»Ÿé›†æˆ
5. âœ… åˆ›å»ºå…¨é¢é”è¯„æŠ¥å‘Š

**ä¿®æ”¹æ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/2_å†œç”°ç³»ç»Ÿé”è¯„/é”è¯„æŠ¥å‘Š.md` - æ–°å»ºé”è¯„æŠ¥å‘Š
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶ï¼ˆè¿½åŠ ä¼šè¯è®°å½•ï¼‰

**é”è¯„ç»“æœæ‘˜è¦**:

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| ä»£ç è´¨é‡ | â­â­â­ (3/5) | åŸºç¡€ç»“æ„åˆç†ï¼Œä½†å­˜åœ¨ç¡¬ç¼–ç å’Œé‡å¤ä»£ç  |
| é€»è¾‘å®Œæ•´æ€§ | â­â­ (2/5) | æ ¸å¿ƒé€»è¾‘æœ‰æ¼æ´ï¼Œå¤šå¤„ TODO æœªå®ç° |
| æ€§èƒ½è¡¨ç° | â­â­â­ (3/5) | å­˜åœ¨æ½œåœ¨æ€§èƒ½é—®é¢˜ï¼Œä½†è§„æ¨¡å°æ—¶å¯æ¥å— |
| ç³»ç»Ÿé€‚é… | â­ (1/5) | ä¸ç°æœ‰ç³»ç»Ÿå‡ ä¹å®Œå…¨è„±èŠ‚ |
| æ¶æ„è®¾è®¡ | â­â­â­ (3/5) | è®¾è®¡æ–‡æ¡£å®Œå–„ï¼Œä½†å®ç°ä¸è®¾è®¡ä¸ç¬¦ |

**å…³é”®é—®é¢˜**:
- ğŸ”´ è‡´å‘½ 4 ä¸ªï¼šHarvestCrop è¿”å› nullã€èƒŒåŒ…æœªé›†æˆã€ç²¾åŠ›æœªé›†æˆã€å¤šæ¥¼å±‚æœªå®ç°
- ğŸŸ  ä¸¥é‡ 6 ä¸ªï¼šé‡å¤ä»£ç ã€ItemDatabase è®¿é—®ã€å­£èŠ‚åˆ¤æ–­ã€æµ‡æ°´æ—¶é—´è®¡ç®—ç­‰
- ğŸŸ¡ ä¸­ç­‰ 8 ä¸ªï¼šæ€§èƒ½éå†ã€æ¶æ„èŒè´£ä¸æ¸…ç­‰
- ğŸŸ¢ è½»å¾® 5 ä¸ªï¼šä»£ç é£æ ¼ä¼˜åŒ–

**é¢„ä¼°ä¿®å¤å·¥æ—¶**:
- P0ï¼ˆå¿…é¡»ï¼‰ï¼š10.5h
- P1ï¼ˆå»ºè®®ï¼‰ï¼š4h
- P2ï¼ˆå¯é€‰ï¼‰ï¼š3.5h
- P3ï¼ˆé•¿æœŸï¼‰ï¼š9h

**è¯¦ç»†æŠ¥å‘Š**: `.kiro/specs/å†œç”°ç³»ç»Ÿ/2_å†œç”°ç³»ç»Ÿé”è¯„/é”è¯„æŠ¥å‘Š.md`

**é—ç•™é—®é¢˜**:
- [x] ç­‰å¾…ç”¨æˆ·ç¡®è®¤é”è¯„ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤èµ°é‡æ„è·¯çº¿
- [x] æ ¹æ®é”è¯„ç»“æœåˆ¶å®šä¿®å¤è®¡åˆ’ â†’ ä¼šè¯ 5 å®Œæˆ
- [ ] ç”¨æˆ·å®Œæˆç´ æå’Œåœºæ™¯é…ç½®ï¼ˆU-1 ~ U-6ï¼‰
- [ ] å¼€å‘å®Œæˆé‡æ„ä»»åŠ¡

---

### ä¼šè¯ 5 - 2026-01-24ï¼ˆé‡æ„è§„åˆ’ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> æˆ‘è¿˜éœ€è¦ä½ æ›´åŠ å®¢è§‚æ›´åŠ é”åˆ©æ›´åŠ ä¸“ä¸šçš„è¯„ä»·ï¼Œæˆ‘ç°åœ¨åœ¨æƒ³çš„é—®é¢˜å°±æ˜¯æ˜¯å¦ç›´æ¥è¿›è¡Œé‡æ„ä¼šæ›´æ»¡è¶³ç°çŠ¶

**å†³ç­–ç»“è®º**:
**ç°æœ‰ä»£ç åº”è¯¥ç›´æ¥åºŸå¼ƒï¼Œä»é›¶é‡æ„ã€‚**

**åŸå› **:
1. ç°æœ‰å†œç”°ç³»ç»Ÿæ˜¯"å­¤å²›"ï¼Œä¸é¡¹ç›®å…¶ä»–æˆç†Ÿç³»ç»Ÿçš„é›†æˆåº¦ä¸ºé›¶
2. ä¿®å¤æˆæœ¬ â‰ˆ é‡å†™æˆæœ¬ï¼Œä½†ä¿®å¤åä¼šå¾—åˆ°"ç¼åˆæ€ª"
3. é‡æ„é¢„ä¼°å·¥æ—¶ 18hï¼Œæ¯”ä¿®å¤ï¼ˆ27hï¼‰æ›´çœæ—¶é—´

**å®Œæˆä»»åŠ¡**:
1. âœ… åˆ›å»ºé‡æ„å·¥ä½œåŒº `3_å†œç”°ç³»ç»Ÿé‡æ„/`
2. âœ… åˆ›å»ºå®Œæ•´éœ€æ±‚æ–‡æ¡£ `requirements.md`ï¼ˆ7 ä¸ªéœ€æ±‚ï¼‰
3. âœ… åˆ›å»ºè¯¦ç»†è®¾è®¡æ–‡æ¡£ `design.md`ï¼ˆæ¶æ„ã€æ•°æ®ç»“æ„ã€æµç¨‹ã€æ­£ç¡®æ€§å±æ€§ï¼‰
4. âœ… åˆ›å»ºåˆ†é˜¶æ®µä»»åŠ¡åˆ—è¡¨ `tasks.md`ï¼ˆ42 ä¸ªä»»åŠ¡ï¼Œ6 ä¸ªé˜¶æ®µï¼‰

**ä¿®æ”¹æ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/requirements.md` - æ–°å»ºéœ€æ±‚æ–‡æ¡£
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/design.md` - æ–°å»ºè®¾è®¡æ–‡æ¡£
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/tasks.md` - æ–°å»ºä»»åŠ¡åˆ—è¡¨
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶ï¼ˆè¿½åŠ ä¼šè¯è®°å½•ï¼‰

**é‡æ„æ¶æ„è®¾è®¡**:

```
FarmingManagerï¼ˆåè°ƒè€…ï¼‰
â”œâ”€â”€ FarmTileManagerï¼ˆè€•åœ°çŠ¶æ€ç®¡ç†ï¼‰
â”œâ”€â”€ CropManagerï¼ˆä½œç‰©ç”Ÿå‘½å‘¨æœŸï¼‰
â””â”€â”€ FarmVisualManagerï¼ˆè§†è§‰æ›´æ–°ï¼‰
```

**åºŸå¼ƒ/ä¿ç•™å†³ç­–**:
| æ–‡ä»¶ | å¤„ç†æ–¹å¼ |
|------|---------|
| `FarmingManager.cs` | é‡å†™ |
| `CropGrowthSystem.cs` | åºŸå¼ƒï¼Œåˆå¹¶åˆ° CropManager |
| `CropController.cs` | ä¿ç•™ç»“æ„ï¼Œé‡å†™é€»è¾‘ |
| `CropInstance.cs` | åºŸå¼ƒï¼Œæ›¿æ¢ä¸º CropInstanceData |
| `FarmTileData.cs` | ä¿ç•™ç»“æ„ï¼Œæ‰©å±•å­—æ®µ |
| `SoilMoistureState.cs` | ä¿ç•™ |

**é¢„ä¼°å·¥æ—¶**: 18hï¼ˆä¸å«ç”¨æˆ·ç´ æé…ç½®ï¼‰

**é—ç•™é—®é¢˜**:
- [ ] ç­‰å¾…ç”¨æˆ·å®¡æ ¸éœ€æ±‚æ–‡æ¡£
- [ ] ç­‰å¾…ç”¨æˆ·å®¡æ ¸è®¾è®¡æ–‡æ¡£
- [ ] ç­‰å¾…ç”¨æˆ·å®¡æ ¸ä»»åŠ¡åˆ—è¡¨
- [ ] ç”¨æˆ·å®Œæˆé˜¶æ®µ 0 å‰ç½®å‡†å¤‡ï¼ˆç´ æå’Œåœºæ™¯é…ç½®ï¼‰
- [ ] å¼€å‘æ‰§è¡Œé˜¶æ®µ 1-6 ä»»åŠ¡



---

### ä¼šè¯ 6 - 2026-01-24ï¼ˆé‡æ„å®ç° - é˜¶æ®µ 1-4ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> æ‰§è¡Œå†œç”°ç³»ç»Ÿé‡æ„ä»»åŠ¡

**å®Œæˆä»»åŠ¡**:
1. âœ… é˜¶æ®µ 1ï¼šæ•°æ®ç»“æ„é‡æ„
   - åˆ›å»º `CropInstanceData.cs` - çº¯æ•°æ®ç±»
   - åˆ›å»º `LayerTilemaps.cs` - æ¥¼å±‚ Tilemap é…ç½®
   - æ‰©å±• `FarmTileData.cs` - æ·»åŠ  layerIndexã€puddleVariantã€cropData
   - æ ‡è®° `CropInstance.cs` ä¸º [Obsolete]

2. âœ… é˜¶æ®µ 2ï¼šå­ç®¡ç†å™¨å®ç°
   - åˆ›å»º `FarmTileManager.cs` - è€•åœ°çŠ¶æ€ç®¡ç†
   - åˆ›å»º `CropManager.cs` - ä½œç‰©ç”Ÿå‘½å‘¨æœŸ
   - åˆ›å»º `FarmVisualManager.cs` - è§†è§‰æ›´æ–°

3. âœ… é˜¶æ®µ 3ï¼šFarmingManager é‡å†™
   - åˆ›å»º `FarmingManagerNew.cs` - åè°ƒè€…
   - å®ç°æ—¶é—´äº‹ä»¶è®¢é˜…ï¼ˆOnDayChangedã€OnHourChangedï¼‰
   - å®ç°å…¬å…±æ¥å£ï¼ˆTillSoilã€PlantSeedã€WaterTileã€HarvestCropï¼‰

4. âœ… é˜¶æ®µ 4ï¼šCropController é‡å†™
   - é‡å†™ä¸ºæ”¯æŒæ–°ç‰ˆæ•°æ®ç»“æ„
   - å®ç° Initialize(SeedData, CropInstanceData)
   - å®ç° Grow()ã€SetWithered()ã€ResetForReHarvest()
   - ç»Ÿä¸€æ¯èé¢œè‰²ï¼šnew Color(0.8f, 0.7f, 0.4f)

**æ–°å»ºæ–‡ä»¶**:
- `Assets/YYY_Scripts/Farm/Data/CropInstanceData.cs`
- `Assets/YYY_Scripts/Farm/Data/LayerTilemaps.cs`
- `Assets/YYY_Scripts/Farm/FarmTileManager.cs`
- `Assets/YYY_Scripts/Farm/CropManager.cs`
- `Assets/YYY_Scripts/Farm/FarmVisualManager.cs`
- `Assets/YYY_Scripts/Farm/FarmingManagerNew.cs`
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/éªŒæ”¶æŒ‡å—.md`

**ä¿®æ”¹æ–‡ä»¶**:
- `Assets/YYY_Scripts/Farm/FarmTileData.cs` - æ‰©å±•å­—æ®µ
- `Assets/YYY_Scripts/Farm/CropController.cs` - é‡å†™
- `Assets/YYY_Scripts/Farm/CropInstance.cs` - æ ‡è®°åºŸå¼ƒ
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/tasks.md` - æ›´æ–°ä»»åŠ¡çŠ¶æ€
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆåªæœ‰é¢„æœŸçš„åºŸå¼ƒè­¦å‘Šï¼‰

**é—ç•™é—®é¢˜**:
- [ ] é˜¶æ®µ 5ï¼šç³»ç»Ÿé›†æˆï¼ˆå·¥å…·ç³»ç»Ÿã€æ”¾ç½®ç³»ç»Ÿã€å¯¼èˆªç³»ç»Ÿï¼‰
- [ ] é˜¶æ®µ 6ï¼šæ¸…ç†å’Œæµ‹è¯•
- [ ] ç”¨æˆ·å®Œæˆé˜¶æ®µ 0 å‰ç½®å‡†å¤‡ï¼ˆç´ æå’Œåœºæ™¯é…ç½®ï¼‰

**ä¸‹ä¸€æ­¥**:
ç”¨æˆ·éœ€è¦åœ¨ Unity ç¼–è¾‘å™¨ä¸­å®Œæˆä»¥ä¸‹é…ç½®åæ‰èƒ½æµ‹è¯•ï¼š
1. åˆ›å»ºè€•åœ° Rule Tile
2. åˆ›å»ºæ°´æ¸ Tileï¼ˆ3 ç§ï¼‰
3. åˆ›å»ºåœºæ™¯ Tilemap ç»“æ„
4. åˆ›å»ºä½œç‰© Prefab
5. é…ç½®ç®¡ç†å™¨ç»„ä»¶


---

### ä¼šè¯ 7 - 2026-01-24ï¼ˆé˜¶æ®µ 5 ç³»ç»Ÿé›†æˆ + é˜¶æ®µ 6 æ¸…ç†ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> è¯·ä½ å…ˆç»™å‡ºé˜¶æ®µ0çš„æ“ä½œè®©æˆ‘å’Œä½ åŒæ­¥è¿›è¡Œï¼Œé˜¶æ®µ0çš„å†…å®¹æˆ‘å®Œå…¨æ²¡æœ‰æ“ä½œï¼Œè¯·ä½ æ•™æˆ‘å¦‚ä½•ä»spriteå˜æˆä½ æ‰€éœ€è¦çš„å†…å®¹ï¼Œç„¶åå†ç»§ç»­å®Œæˆä½ æœªå®Œæˆçš„æ£€æŸ¥å’Œå®Œå–„

**å®Œæˆä»»åŠ¡**:
1. âœ… æä¾›é˜¶æ®µ 0 ç”¨æˆ·å‰ç½®å‡†å¤‡è¯¦ç»†æŒ‡å—
   - U0.1 åˆ›å»ºè€•åœ° Rule Tile é…ç½®æ­¥éª¤
   - U0.2 åˆ›å»º 3 ç§æ°´æ¸ Tile æ­¥éª¤
   - U0.3 & U0.4 åˆ›å»ºåœºæ™¯ Tilemap æ­¥éª¤
   - U0.5 åˆ›å»ºä½œç‰© Prefab æ­¥éª¤
   - U0.6 & U0.7 åˆ›å»ºæµ‹è¯•ç”¨ SO æ­¥éª¤
   - U0.8 é…ç½®ç®¡ç†å™¨ç»„ä»¶æ­¥éª¤

2. âœ… é˜¶æ®µ 6.1 åºŸå¼ƒä»£ç æ¸…ç†
   - æ ‡è®° `CropGrowthSystem.cs` ä¸º [Obsolete]
   - æ›´æ–° `FarmingSystemEditor.cs` æ”¯æŒæ–°ç‰ˆç®¡ç†å™¨
   - ä¿ç•™æ—§ç‰ˆæ–‡ä»¶ä»¥å…¼å®¹ç°æœ‰åœºæ™¯

**ä¿®æ”¹æ–‡ä»¶**:
- `Assets/YYY_Scripts/Farm/CropGrowthSystem.cs` - æ·»åŠ  [Obsolete] æ ‡è®°
- `Assets/Editor/FarmingSystemEditor.cs` - é‡å†™ï¼Œæ”¯æŒæ–°æ—§ç‰ˆæœ¬åˆ‡æ¢
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/tasks.md` - æ›´æ–°ä»»åŠ¡çŠ¶æ€
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆ1 ä¸ªé¢„æœŸçš„åºŸå¼ƒè­¦å‘Šï¼‰

**å½“å‰è¿›åº¦**:
- âœ… é˜¶æ®µ 1-4ï¼šæ•°æ®ç»“æ„ã€å­ç®¡ç†å™¨ã€FarmingManagerã€CropController
- âœ… é˜¶æ®µ 5ï¼šç³»ç»Ÿé›†æˆï¼ˆGameInputManagerã€PlacementManagerV3ï¼‰
- âœ… é˜¶æ®µ 6.1ï¼šåºŸå¼ƒä»£ç æ¸…ç†
- â³ é˜¶æ®µ 6.2-6.3ï¼šå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼ˆå¾…ç”¨æˆ·å®Œæˆé˜¶æ®µ 0 åè¿›è¡Œï¼‰

**é—ç•™é—®é¢˜**:
- [ ] ç”¨æˆ·å®Œæˆé˜¶æ®µ 0 å‰ç½®å‡†å¤‡ï¼ˆç´ æå’Œåœºæ™¯é…ç½®ï¼‰
- [ ] é˜¶æ®µ 6.2 åˆ›å»ºå•å…ƒæµ‹è¯•
- [ ] é˜¶æ®µ 6.3 å®Œæ•´æµç¨‹é›†æˆæµ‹è¯•

**ä¸‹ä¸€æ­¥**:
ç”¨æˆ·éœ€è¦åœ¨ Unity ç¼–è¾‘å™¨ä¸­å®Œæˆé˜¶æ®µ 0 çš„é…ç½®åï¼Œæ‰èƒ½è¿›è¡ŒåŠŸèƒ½æµ‹è¯•ã€‚



---

### ä¼šè¯ 8 - 2026-01-24ï¼ˆå…¨é¢å®¡æŸ¥ä¸ä¿®å¤ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> è¯·ä½ å†å®¢è§‚çš„ä¸“ä¸šçš„å»æ£€æŸ¥å®¡è§†ä¸€éä½ æ‰€å®Œæˆçš„æ‰€æœ‰å†…å®¹æ˜¯å¦ç¬¦åˆéœ€æ±‚å†…å®¹ä»¥åŠè®¾è®¡å†…å®¹

**å®Œæˆä»»åŠ¡**:
1. âœ… å…¨é¢å®¡æŸ¥ä»£ç å®ç°ä¸éœ€æ±‚/è®¾è®¡æ–‡æ¡£çš„ä¸€è‡´æ€§
2. âœ… é€æ¡æ£€æŸ¥ 7 ä¸ªéœ€æ±‚çš„ 40+ éªŒæ”¶æ ‡å‡†
3. âœ… æ£€æŸ¥ 15 ä¸ªæ­£ç¡®æ€§å±æ€§ï¼ˆP1.1-P5.3ï¼‰
4. âœ… æ£€æŸ¥æ¶æ„è®¾è®¡ä¸€è‡´æ€§
5. âœ… æ£€æŸ¥æ€§èƒ½ä¼˜åŒ–è½å®æƒ…å†µ
6. âœ… å‘ç°å¹¶ä¿®å¤ 1 ä¸ªå¿…é¡»ä¿®å¤çš„é—®é¢˜
7. âœ… åˆ›å»ºè¯¦ç»†å®¡æŸ¥æŠ¥å‘Š

**å‘ç°çš„é—®é¢˜**:
| é—®é¢˜ | ä¸¥é‡ç¨‹åº¦ | çŠ¶æ€ |
|------|---------|------|
| ç§æ¤æœªæ¶ˆè€—èƒŒåŒ…ç§å­ | ğŸ”´ å¿…é¡»ä¿®å¤ | âœ… å·²ä¿®å¤ |
| æ¥¼å±‚æ£€æµ‹ç¡¬ç¼–ç  | ğŸŸ¡ å»ºè®®æ”¹è¿› | â³ å¾…ä¼˜åŒ– |
| OnDayChanged å…¨é‡åˆ·æ–° | ğŸŸ¢ å¯æ¥å— | - |

**ä¿®å¤å†…å®¹**:
1. åœ¨ `InventoryService.cs` ä¸­æ·»åŠ  `RemoveItem(int itemId, int quality, int amount)` æ–¹æ³•
2. åœ¨ `InventoryService.cs` ä¸­æ·»åŠ  `HasItem(int itemId, int quality, int amount)` æ–¹æ³•
3. ä¿®å¤ `FarmingManagerNew.PlantSeed()` ä¸­çš„ TODOï¼Œç°åœ¨ä¼šæ­£ç¡®æ¶ˆè€—èƒŒåŒ…ä¸­çš„ç§å­

**æ–°å»ºæ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/å®¡æŸ¥æŠ¥å‘Š.md` - è¯¦ç»†å®¡æŸ¥æŠ¥å‘Š

**ä¿®æ”¹æ–‡ä»¶**:
- `Assets/YYY_Scripts/Service/Inventory/InventoryService.cs` - æ·»åŠ  RemoveItemã€HasItem æ–¹æ³•
- `Assets/YYY_Scripts/Farm/FarmingManagerNew.cs` - ä¿®å¤ç§å­æ¶ˆè€— TODO
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶

**å®¡æŸ¥ç»“è®º**:

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| éœ€æ±‚è¦†ç›–åº¦ | â­â­â­â­â˜† (4/5) | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œéƒ¨åˆ†ç»†èŠ‚å¾…ç”¨æˆ·é…ç½® |
| è®¾è®¡ä¸€è‡´æ€§ | â­â­â­â­â­ (5/5) | ä»£ç ç»“æ„ä¸è®¾è®¡æ–‡æ¡£é«˜åº¦ä¸€è‡´ |
| ä»£ç è´¨é‡ | â­â­â­â­â˜† (4/5) | ç»“æ„æ¸…æ™°ï¼Œæœ‰å°‘é‡å¯ä¼˜åŒ–ç‚¹ |
| ç³»ç»Ÿé›†æˆ | â­â­â­â­â˜† (4/5) | ä¸ç°æœ‰ç³»ç»Ÿé›†æˆè‰¯å¥½ |

**æ ¸å¿ƒåŠŸèƒ½å®ŒæˆçŠ¶æ€**:
- âœ… è€•åœ°ç³»ç»Ÿ
- âœ… ç§æ¤ç³»ç»Ÿï¼ˆåŒ…æ‹¬èƒŒåŒ…æ¶ˆè€—ï¼‰
- âœ… æµ‡æ°´ç³»ç»Ÿ
- âœ… ä½œç‰©ç”Ÿé•¿ç³»ç»Ÿ
- âœ… æ”¶è·ç³»ç»Ÿ
- âœ… å¤šæ¥¼å±‚æ”¯æŒ
- âœ… ç³»ç»Ÿé›†æˆ

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸ

**é—ç•™é—®é¢˜**:
- [ ] ç”¨æˆ·å®Œæˆé˜¶æ®µ 0 å‰ç½®å‡†å¤‡ï¼ˆç´ æå’Œåœºæ™¯é…ç½®ï¼‰
- [ ] é›†æˆæµ‹è¯•éªŒè¯

**è¯¦ç»†æŠ¥å‘Š**: `.kiro/specs/å†œç”°ç³»ç»Ÿ/3_å†œç”°ç³»ç»Ÿé‡æ„/å®¡æŸ¥æŠ¥å‘Š.md`



---

### ä¼šè¯ 9 - 2026-01-26ï¼ˆæ·±åº¦åæ€ä¸åˆ†æï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> è¯·ä½ å›é¡¾å†å²å·¥ä½œåŒºå†…å®¹ï¼Œå»å›é¡¾ memory ä¸­çš„èŠå¤©è®°å½•ï¼Œæˆ‘ä»¬çš„è¿­ä»£è¿‡ç¨‹ï¼Œä½ è¿™é‡Œæ‰€æè¿°çš„åŸå§‹è®¾è®¡ç¡®å®šæ˜¯åˆç†çš„å—...æˆ‘è®¤ä¸ºä½ çš„åˆ†æè¿˜ä¸å¤Ÿå®¢è§‚å…¨é¢ï¼Œä¸å¤Ÿæ·±å…¥å½“å‰é¡¹ç›®çš„å®é™…å†…å®¹...æˆ‘æ‰€éœ€è¦çš„æ˜¯ä½ ä¸“ä¸šå®¢è§‚çš„åˆ†æï¼Œå¯¹æˆ‘çš„æ ¸å¿ƒéœ€æ±‚è¿›è¡Œå…¨é¢ç†è§£

**å®Œæˆä»»åŠ¡**:
1. âœ… å®Œæ•´é˜…è¯»æ‰€æœ‰å†å²æ–‡æ¡£ï¼ˆmemory.mdã€ç”¨æˆ·åé¦ˆä¸æ¶æ„åæ€.mdã€design.mdã€requirements.mdï¼‰
2. âœ… æ·±å…¥åæ€åŸå§‹è®¾è®¡ï¼ˆä¼šè¯ 5ï¼‰çš„é—®é¢˜
3. âœ… é‡å†™æ·±åº¦åˆ†ææŠ¥å‘Šï¼Œæ‰¿è®¤è¿‡åº¦è®¾è®¡çš„é”™è¯¯
4. âœ… æ˜ç¡®ç”¨æˆ·çš„æ ¸å¿ƒéœ€æ±‚

**ä¿®æ”¹æ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/æ·±åº¦åˆ†ææŠ¥å‘Š.md` - å®Œå…¨é‡å†™

**æ ¸å¿ƒåæ€**:

1. **æˆ‘çŠ¯çš„é”™è¯¯**ï¼š
   - è¿‡åº¦è®¾è®¡ - è®¾è®¡äº† 5 ä¸ªå•ä¾‹ç®¡ç†å™¨ï¼Œä½†ç”¨æˆ·åªéœ€è¦ 2 ä¸ª
   - æ²¡æœ‰éµå¾ªé¡¹ç›®é£æ ¼ - é¡¹ç›®ä¸­ TreeController ç‹¬ç«‹ç®¡ç†ï¼Œæˆ‘å´è®¾è®¡äº† CropManager é›†ä¸­ç®¡ç†
   - éœ€æ±‚å˜æ›´åæ²¡æœ‰æ¸…ç†æ—§ä»£ç  - ä» Rule Tile åˆ‡æ¢åˆ°ä»£ç æ§åˆ¶è¾¹ç•Œåï¼Œæ—§å­—æ®µå’Œæ—§é€»è¾‘æ²¡æœ‰åˆ é™¤
   - æ²¡æœ‰ä¼˜å…ˆè§£å†³ç”¨æˆ·çš„æ ¸å¿ƒéœ€æ±‚ - ç”¨æˆ·åªéœ€è¦é”„åœ°å’Œæµ‡æ°´ï¼Œæˆ‘å´è®¾è®¡äº†å®Œæ•´çš„ä½œç‰©ç³»ç»Ÿ

2. **ç”¨æˆ·çš„çœŸå®éœ€æ±‚**ï¼š
   - é”„åœ° â†’ ç”Ÿæˆä¸­å¿ƒå— Tile
   - è¾¹ç•Œ â†’ è‡ªåŠ¨è®¡ç®—å¹¶æ”¾ç½®è¾¹ç•Œè£…é¥°
   - æµ‡æ°´ â†’ æ›´æ–°è€•åœ°çŠ¶æ€ï¼ˆè§†è§‰æ•ˆæœåç»­å†è¯´ï¼‰
   - ä½œç‰©ç³»ç»Ÿåç»­å†è®¾è®¡ï¼Œå‚è€ƒ TreeController æ¨¡å¼

3. **ç®€åŒ–æ–¹æ¡ˆ**ï¼š
   - å½“å‰é˜¶æ®µåªä¿ç•™ FarmTileManager + FarmlandBorderManager
   - æš‚ä¸ä½¿ç”¨ FarmingManagerNewã€FarmVisualManagerã€CropManager
   - ä¿®æ”¹ GameInputManager ç›´æ¥è°ƒç”¨ FarmTileManager

**å½“å‰è‡´å‘½é—®é¢˜**:
- GameInputManager ä¾èµ– FarmingManagerNew.Instanceï¼Œä½†åœºæ™¯ä¸­æœªé…ç½®
- LayerTilemaps.WorldToCell() ä½¿ç”¨æ—§ç‰ˆå­—æ®µï¼Œåæ ‡è½¬æ¢å¤±è´¥

**é—ç•™é—®é¢˜**:
- [x] ç­‰å¾…ç”¨æˆ·å®¡æ ¸æ·±åº¦åˆ†ææŠ¥å‘Š â†’ ç”¨æˆ·ç¡®è®¤é€šè¿‡
- [ ] ç¡®è®¤åæ‰§è¡Œç®€åŒ–æ–¹æ¡ˆ

**è¯¦ç»†æŠ¥å‘Š**: `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/æ·±åº¦åˆ†ææŠ¥å‘Š.md`


---

### ä¼šè¯ 10 - 2026-01-26ï¼ˆåˆ›å»ºéœ€æ±‚ã€è®¾è®¡å’Œä»»åŠ¡åˆ—è¡¨ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> ä½ çš„åæ€å†…å®¹è¿˜å¯ä»¥æ¥å—ï¼Œè¯·ä½ è¯¦ç»†å¹¶å…¨é¢çš„åœ¨è¯¥å·¥ä½œåŒºå†™å‡ºéœ€æ±‚è®¾è®¡å’Œä»»åŠ¡åˆ—è¡¨æ–‡æ¡£

**å®Œæˆä»»åŠ¡**:
1. âœ… åˆ›å»º `requirements.md` - 5 ä¸ªéœ€æ±‚ï¼Œæ¶µç›–ä¿®å¤è°ƒç”¨é“¾ã€åæ ‡è½¬æ¢ã€é”„åœ°ã€æµ‡æ°´ã€ä»£ç æ¸…ç†
2. âœ… åˆ›å»º `design.md` - ç®€åŒ–åçš„æ¶æ„è®¾è®¡ã€ä¿®æ”¹æ–¹æ¡ˆã€æ•°æ®æµã€æ­£ç¡®æ€§å±æ€§
3. âœ… åˆ›å»º `tasks.md` - 4 ä¸ªé˜¶æ®µã€14 ä¸ªä»»åŠ¡ï¼Œé¢„ä¼° 2.5h

**æ–°å»ºæ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/requirements.md`
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/design.md`
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/tasks.md`

**ç®€åŒ–åçš„æ¶æ„**:
```
GameInputManager.TryTillSoil()
  â†“ ç›´æ¥è°ƒç”¨
FarmTileManager.CreateTile()
  â†“ é€šçŸ¥
FarmlandBorderManager.OnCenterBlockPlaced()
  â†“ æ›´æ–°
Tilemap.SetTile() (Center + Border)
```

**æ ¸å¿ƒä¿®æ”¹ç‚¹**:
1. LayerTilemaps.WorldToCell() - ä¼˜å…ˆä½¿ç”¨æ–°ç‰ˆå­—æ®µ farmlandCenterTilemap
2. GameInputManager.TryTillSoil() - ç›´æ¥è°ƒç”¨ FarmTileManagerï¼Œä¸ç»è¿‡ FarmingManagerNew
3. GameInputManager.TryWaterTile() - ç›´æ¥è°ƒç”¨ FarmTileManager

**é—ç•™é—®é¢˜**:
- [x] ç­‰å¾…ç”¨æˆ·å®¡æ ¸éœ€æ±‚ã€è®¾è®¡å’Œä»»åŠ¡åˆ—è¡¨ â†’ ç”¨æˆ·æå‡ºæ›´æ·±å±‚é—®é¢˜
- [ ] ç¡®è®¤åæ‰§è¡Œä»»åŠ¡


---

### ä¼šè¯ 11 - 2026-01-26ï¼ˆæ·±åº¦å®¡è§†è®¾è®¡ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> æˆ‘è®¤ä¸ºè¿˜éœ€è¦æœ‰çš„æ€è€ƒå°±æ˜¯ï¼Œå½“å‰çš„è®¾è®¡å†…ï¼Œæ¯ä¸€ä¸ªäº§ç”Ÿå‡ºæ¥çš„è€•åœ°ä¸­å¿ƒå—è¯¥å¦‚ä½•è¿›è¡Œç®¡ç†ï¼Œæ¯ä¸€ä¸ªä¸­å¿ƒå—æ˜¯å¦éœ€è¦ä¸€ä¸ªæ§åˆ¶å™¨æˆ–è€…æ˜¯è¯´æ•´ä½“çš„æ§åˆ¶å™¨ï¼Œç„¶åä¸å†œä½œç‰©è¿›è¡Œç»‘å®šï¼Œæ°´æ¸çš„çŠ¶æ€æ§åˆ¶æ˜¯å¦åˆé€‚ï¼Œæ•´ä½“çš„å†œç”°ç³»ç»Ÿå¦‚ä½•è¿ä½œ

**å®Œæˆä»»åŠ¡**:
1. âœ… åˆ†æé¡¹ç›®ä¸­ç±»ä¼¼ç³»ç»Ÿçš„è®¾è®¡æ¨¡å¼ï¼ˆTreeControllerV2ã€StoneControllerã€CropControllerï¼‰
2. âœ… åˆ›å»º `è®¾è®¡å®¡è§†ä¸é‡æ–°æ€è€ƒ.md` æ–‡æ¡£ï¼Œå›ç­”ç”¨æˆ·çš„ 4 ä¸ªæ ¸å¿ƒé—®é¢˜
3. âœ… æå‡ºåˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆæ•°æ®å±‚ â†’ ç®¡ç†å±‚ â†’ å®ä½“å±‚ï¼‰

**æ–°å»ºæ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/è®¾è®¡å®¡è§†ä¸é‡æ–°æ€è€ƒ.md`

**æ ¸å¿ƒç»“è®º**:

1. **è€•åœ°ä¸­å¿ƒå—ä¸éœ€è¦ç‹¬ç«‹æ§åˆ¶å™¨**
   - è€•åœ°ä¸­å¿ƒå—åªæ˜¯ Tilemap ä¸Šçš„ Tileï¼Œæ²¡æœ‰ç‹¬ç«‹çš„ GameObject
   - è€•åœ°çš„çŠ¶æ€å­˜å‚¨åœ¨ FarmTileData ä¸­ï¼Œç”± FarmTileManager ç®¡ç†

2. **è€•åœ°ä¸ä½œç‰©é€šè¿‡ FarmTileData.cropController å¼•ç”¨ç»‘å®š**
   - ç§æ¤æ—¶è®¾ç½®å¼•ç”¨ï¼Œæ”¶è·æ—¶æ¸…é™¤å¼•ç”¨
   - ä¸éœ€è¦ CropManager ç»´æŠ¤é¢å¤–çš„å­—å…¸

3. **æ°´æ¸çŠ¶æ€åŸºæœ¬åˆé€‚ï¼Œä½†éœ€è¦è¡¥å……æ°´æ¸ Tile æ”¾ç½®/ç§»é™¤é€»è¾‘**
   - å½“å‰è®¾è®¡ä¸­æ°´æ¸çŠ¶æ€å­˜å‚¨åœ¨ FarmTileData ä¸­
   - éœ€è¦åœ¨ FarmTileManager.SetWatered() ä¸­æ·»åŠ æ°´æ¸ Tile æ”¾ç½®é€»è¾‘

4. **åˆ†å±‚æ¶æ„**:
   - æ•°æ®å±‚ï¼šFarmTileData å­˜å‚¨æ¯ä¸ªæ ¼å­çš„çŠ¶æ€
   - ç®¡ç†å±‚ï¼šFarmTileManager ç®¡ç†è€•åœ°æ•°æ®ï¼ŒFarmlandBorderManager ç®¡ç†è§†è§‰
   - å®ä½“å±‚ï¼šCropController ç‹¬ç«‹ç®¡ç†ä½œç‰©ç”Ÿå‘½å‘¨æœŸï¼ˆå‚è€ƒ TreeControllerï¼‰

**å»ºè®®**:
- ä½œç‰©ç³»ç»Ÿå‚è€ƒ TreeController æ¨¡å¼ï¼ŒCropController ç‹¬ç«‹ç®¡ç†ç”Ÿå‘½å‘¨æœŸ
- ä¸éœ€è¦ CropManager é›†ä¸­ç®¡ç†
- å½“å‰é˜¶æ®µå…ˆå®Œæˆè€•åœ°ç”Ÿæˆã€è¾¹ç•Œå’Œæµ‡æ°´ï¼Œä½œç‰©ç³»ç»Ÿåç»­å†è®¾è®¡

**é—ç•™é—®é¢˜**:
- [x] ç­‰å¾…ç”¨æˆ·å®¡æ ¸ `è®¾è®¡å®¡è§†ä¸é‡æ–°æ€è€ƒ.md` æ–‡æ¡£ â†’ ç”¨æˆ·ç¡®è®¤å¯ä»¥å®ç°
- [x] æ ¹æ®ç”¨æˆ·åé¦ˆæ›´æ–° requirements.mdã€design.mdã€tasks.md â†’ å·²æ›´æ–°
- [ ] å¯èƒ½éœ€è¦é‡æ–°è®¾è®¡ FarmTileData ç»“æ„ï¼ˆæ·»åŠ  cropController å¼•ç”¨ï¼‰
- [ ] å¯èƒ½éœ€è¦è¡¥å……æ°´æ¸ Tile æ”¾ç½®é€»è¾‘åˆ° FarmTileManager.SetWatered()


---

### ä¼šè¯ 12 - 2026-01-26ï¼ˆä»£ç å®ç°ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> æˆ‘è®¤ä¸ºå¯ä»¥è¿›è¡Œå®ç°ä¸€ä¸‹ï¼Œè¯·ä½ ç›´æ¥æ ¹æ®ä½ çš„è®¾è®¡å®¡è§†ä¸é‡æ–°æ€è€ƒæ¥é‡æ–°å®¢è§‚çš„æ£€æŸ¥ä½ ä¹‹å‰åˆ›å»ºçš„éœ€æ±‚è®¾è®¡å’Œä»»åŠ¡æ–‡æ¡£ï¼Œè¿›è¡Œä¿®æ”¹å’Œå¤„ç†

**å®Œæˆä»»åŠ¡**:
1. âœ… æ›´æ–° `requirements.md` - æ ¹æ®è®¾è®¡å®¡è§†æ›´æ–°éœ€æ±‚æ–‡æ¡£
2. âœ… æ›´æ–° `design.md` - æ ¹æ®è®¾è®¡å®¡è§†æ›´æ–°è®¾è®¡æ–‡æ¡£
3. âœ… æ›´æ–° `tasks.md` - ç®€åŒ–ä»»åŠ¡åˆ—è¡¨
4. âœ… é˜¶æ®µ 1ï¼šä¿®å¤ LayerTilemaps
   - ä¿®æ”¹ WorldToCell() ä¼˜å…ˆä½¿ç”¨æ–°ç‰ˆå­—æ®µ farmlandCenterTilemap
   - ä¿®æ”¹ GetCellCenterWorld() ä¼˜å…ˆä½¿ç”¨æ–°ç‰ˆå­—æ®µ
   - ä¿®æ”¹ IsValid() æ”¯æŒæ–°ç‰ˆé…ç½®
   - ä¸ºæ—§ç‰ˆå­—æ®µæ·»åŠ æ³¨é‡Šè¯´æ˜
5. âœ… é˜¶æ®µ 2ï¼šä¿®å¤ GameInputManager è°ƒç”¨é“¾
   - ä¿®æ”¹ TryTillSoil() ç›´æ¥è°ƒç”¨ FarmTileManager.Instance
   - ä¿®æ”¹ TryWaterTile() ç›´æ¥è°ƒç”¨ FarmTileManager.Instance
   - æ·»åŠ æ­£ç¡®çš„æ¥¼å±‚æ£€æµ‹å’Œåæ ‡è½¬æ¢é€»è¾‘
   - æ·»åŠ  TimeManager é›†æˆè·å–å½“å‰æ¸¸æˆæ—¶é—´

**ä¿®æ”¹æ–‡ä»¶**:
- `Assets/YYY_Scripts/Farm/Data/LayerTilemaps.cs` - ä¿®å¤åæ ‡è½¬æ¢æ–¹æ³•
- `Assets/YYY_Scripts/Controller/Input/GameInputManager.cs` - ä¿®å¤é”„åœ°å’Œæµ‡æ°´è°ƒç”¨é“¾
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/requirements.md` - æ›´æ–°éœ€æ±‚æ–‡æ¡£
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/design.md` - æ›´æ–°è®¾è®¡æ–‡æ¡£
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/6_å†œç”°ç³»ç»Ÿæ·±åº¦é‡æ„/tasks.md` - æ›´æ–°ä»»åŠ¡åˆ—è¡¨
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆåªæœ‰é¢„æœŸçš„åºŸå¼ƒè­¦å‘Šï¼‰

**æ ¸å¿ƒä¿®æ”¹**:

1. **LayerTilemaps.WorldToCell()** - ä¼˜å…ˆä½¿ç”¨ farmlandCenterTilemapï¼Œå›é€€åˆ° farmlandTilemapï¼Œæœ€åä½¿ç”¨ groundTilemap
2. **LayerTilemaps.GetCellCenterWorld()** - åŒæ ·çš„ä¼˜å…ˆçº§é€»è¾‘
3. **LayerTilemaps.IsValid()** - æ”¯æŒæ–°ç‰ˆé…ç½®ï¼ˆåªé…ç½® farmlandCenterTilemap ä¹Ÿç®—æœ‰æ•ˆï¼‰
4. **GameInputManager.TryTillSoil()** - ç›´æ¥è°ƒç”¨ FarmTileManager.Instanceï¼Œä¸ç»è¿‡ FarmingManagerNew
5. **GameInputManager.TryWaterTile()** - ç›´æ¥è°ƒç”¨ FarmTileManager.Instanceï¼Œä½¿ç”¨ TimeManager.GetHour() è·å–å½“å‰æ—¶é—´

**é—ç•™é—®é¢˜**:
- [ ] é˜¶æ®µ 3ï¼šä»£ç æ¸…ç†ï¼ˆP2 å¯é€‰ï¼‰
- [ ] ç”¨æˆ·åœ¨ Unity ä¸­æµ‹è¯•é”„åœ°å’Œæµ‡æ°´åŠŸèƒ½
- [ ] ç”¨æˆ·é…ç½® FarmTileManager å’Œ FarmlandBorderManager çš„ Tile èµ„æº



---

### ä¼šè¯ 13 - 2026-01-27ï¼ˆå½»åº•è§£è€¦ - æ‰§è¡Œæ¶æ„å¸ˆæŒ‡ä»¤ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> æ¶æ„å¸ˆé”è¯„æŒ‡å‡ºå½“å‰ç³»ç»Ÿå¤„äº"ä¼ªé‡æ„"çŠ¶æ€ï¼Œè¦æ±‚å½»åº•è§£è€¦

**æ¶æ„å¸ˆé”è¯„è¦ç‚¹**:
1. **FarmingManagerNew ä¾ç„¶æ˜¯"ä¸Šå¸ç±»"** - è®¢é˜…æ—¶é—´äº‹ä»¶ï¼Œè°ƒåº¦æ‰€æœ‰å­ç³»ç»Ÿ
2. **è°ƒç”¨é“¾ä¸ä¸€è‡´** - é”„åœ°/æµ‡æ°´ç›´æ¥è°ƒç”¨ FarmTileManagerï¼Œä½†ç§æ¤/æ”¶è·è¿˜åœ¨è°ƒç”¨ FarmingManagerNew
3. **ä½œç‰©ç³»ç»Ÿæœªå®ä½“åŒ–** - ä½œç‰©ç”Ÿé•¿è¿˜æ˜¯ç”± CropManager é›†ä¸­éå†

**æ¶æ„å¸ˆæ‰¹å‡†çš„æ‰§è¡Œæ–¹æ¡ˆ**:
1. FarmTileManager å¿…é¡»è‡ªæ²» - ç›´æ¥è®¢é˜…æ—¶é—´äº‹ä»¶
2. ç§æ¤/æ”¶è·é€‰æ‹©é€‰é¡¹ B - è®©ç§æ¤ç›´æ¥å®ä¾‹åŒ–ï¼ŒCropController è‡ªæ²»
3. åºŸå¼ƒ FarmingManagerNew - åˆ æ‰åœºæ™¯é‡Œçš„ç‰©ä½“åç³»ç»Ÿä¾ç„¶èƒ½å®Œç¾è¿è¡Œ

**å®Œæˆä»»åŠ¡**:
1. âœ… ä¿®æ”¹ `FarmTileManager.cs` - æ·»åŠ æ—¶é—´äº‹ä»¶è®¢é˜…ï¼Œå®ç°é€»è¾‘é—­ç¯
   - æ·»åŠ  OnEnable() è®¢é˜… TimeManager.OnDayChanged å’Œ OnHourChanged
   - æ·»åŠ  OnDisable() å–æ¶ˆè®¢é˜…
   - æ·»åŠ  hoursUntilPuddleDry é…ç½®å­—æ®µ
   - å®ç° OnDayChanged() è°ƒç”¨ ResetDailyWaterState()
   - å®ç° OnHourChanged() å¤„ç†æ°´æ¸çŠ¶æ€å˜åŒ–ï¼ˆWetWithPuddle â†’ WetDarkï¼‰

2. âœ… ä¿®æ”¹ `GameInputManager.cs` - ç§»é™¤æ‰€æœ‰ FarmingManagerNew å¼•ç”¨
   - é‡å†™ TryPlantSeed() - ç›´æ¥è°ƒç”¨ CropManager.CreateCrop() ä½œä¸ºå·¥å‚
   - é‡å†™ TryHarvestCropAtMouse() - ç›´æ¥è®¿é—® FarmTileManager å’Œ CropManager
   - æ·»åŠ  IsCorrectSeason() è¾…åŠ©æ–¹æ³•

3. âœ… ä¿®æ”¹ `CropController.cs` - æ·»åŠ æ—¶é—´äº‹ä»¶è®¢é˜…å®ç°è‡ªæ²»
   - æ·»åŠ  OnEnable() è®¢é˜… TimeManager.OnDayChanged
   - æ·»åŠ  OnDisable() å–æ¶ˆè®¢é˜…
   - å®ç° OnDayChanged() - è‡ªå·±æ£€æŸ¥è„šä¸‹åœŸåœ°æ˜¯å¦æ¹¿æ¶¦ï¼Œè‡ªå·±å†³å®šæ˜¯å¦ç”Ÿé•¿
   - æ·»åŠ  layerIndex å’Œ cellPosition å­—æ®µè®°å½•ä½ç½®
   - æ·»åŠ  Initialize() é‡è½½æ”¯æŒä½ç½®ä¿¡æ¯

4. âœ… ä¿®æ”¹ `CropManager.cs` - ç§»é™¤å…¨é‡éå†é€»è¾‘ï¼Œåªä¿ç•™å·¥å‚åŠŸèƒ½
   - ç§»é™¤ daysUntilWithered å’Œ daysUntilStagnant é…ç½®ï¼ˆç§»è‡³ CropControllerï¼‰
   - æ ‡è®° ProcessDailyGrowth() å’Œ ProcessAllCropsGrowth() ä¸º [Obsolete]
   - CreateCrop() ç°åœ¨ä¼ é€’ä½ç½®ä¿¡æ¯ç»™ CropController

5. âœ… æ ‡è®° `FarmingManagerNew.cs` ä¸ºåºŸå¼ƒ
   - æ·»åŠ è¯¦ç»†çš„åºŸå¼ƒè¯´æ˜å’Œæ›¿ä»£æ–¹æ¡ˆ
   - æ‰€æœ‰å…¬å…±æ–¹æ³•æ ‡è®°ä¸º [Obsolete]
   - Awake() å’Œ Start() è¾“å‡ºè­¦å‘Šæ—¥å¿—

**ä¿®æ”¹æ–‡ä»¶**:
- `Assets/YYY_Scripts/Farm/FarmTileManager.cs` - æ·»åŠ æ—¶é—´äº‹ä»¶è®¢é˜…
- `Assets/YYY_Scripts/Controller/Input/GameInputManager.cs` - ç§»é™¤ FarmingManagerNew å¼•ç”¨
- `Assets/YYY_Scripts/Farm/CropController.cs` - æ·»åŠ æ—¶é—´äº‹ä»¶è®¢é˜…å®ç°è‡ªæ²»
- `Assets/YYY_Scripts/Farm/CropManager.cs` - ç§»é™¤éå†é€»è¾‘
- `Assets/YYY_Scripts/Farm/FarmingManagerNew.cs` - æ ‡è®°åºŸå¼ƒ
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/memory.md` - æœ¬æ–‡ä»¶

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆ22 ä¸ªé¢„æœŸçš„åºŸå¼ƒè­¦å‘Šï¼‰

**éªŒè¯æ ‡å‡†**:
åˆ æ‰åœºæ™¯é‡Œçš„ FarmingManagerNew ç‰©ä½“æ—¶ï¼Œæ•´ä¸ªå†œç”°ç³»ç»Ÿï¼ˆé”„åœ°ã€æµ‡æ°´ã€å¹²æ¶¸ã€ç”Ÿé•¿ã€æ”¶è·ï¼‰ä¾ç„¶èƒ½å®Œç¾è¿è¡Œã€‚

**æ¶æ„å˜åŒ–**:

**ä¹‹å‰ï¼ˆä¼ªé‡æ„ï¼‰**:
```
FarmingManagerNewï¼ˆä¸Šå¸ç±»ï¼‰
â”œâ”€â”€ è®¢é˜… TimeManager äº‹ä»¶
â”œâ”€â”€ è°ƒåº¦ FarmTileManager.ResetDailyWaterState()
â”œâ”€â”€ è°ƒåº¦ CropManager.ProcessAllCropsGrowth()
â””â”€â”€ è°ƒåº¦ FarmVisualManager.RefreshAllTileVisuals()
```

**ç°åœ¨ï¼ˆå½»åº•è§£è€¦ï¼‰**:
```
FarmTileManagerï¼ˆè‡ªæ²»ï¼‰
â”œâ”€â”€ è‡ªå·±è®¢é˜… TimeManager äº‹ä»¶
â”œâ”€â”€ è‡ªå·±å¤„ç†æ¯æ—¥é‡ç½®
â””â”€â”€ è‡ªå·±å¤„ç†æ°´æ¸å¹²æ¶¸

CropControllerï¼ˆè‡ªæ²»ï¼‰
â”œâ”€â”€ è‡ªå·±è®¢é˜… TimeManager.OnDayChanged
â”œâ”€â”€ è‡ªå·±æ£€æŸ¥è„šä¸‹åœŸåœ°æ˜¯å¦æ¹¿æ¶¦
â””â”€â”€ è‡ªå·±å†³å®šæ˜¯å¦ç”Ÿé•¿

CropManagerï¼ˆçº¯å·¥å‚ï¼‰
â””â”€â”€ åªè´Ÿè´£å®ä¾‹åŒ– GameObjectï¼Œä¸ç»´æŠ¤å…¨å±€åˆ—è¡¨
```

**é—ç•™é—®é¢˜**:
- [ ] ç”¨æˆ·åœ¨ Unity ä¸­æµ‹è¯•å®Œæ•´æµç¨‹
- [ ] ç”¨æˆ·ä»åœºæ™¯ä¸­ç§»é™¤ FarmingManagerNew ç‰©ä½“
- [ ] éªŒè¯ç³»ç»Ÿä¾ç„¶æ­£å¸¸è¿è¡Œ
