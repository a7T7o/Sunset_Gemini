---
inclusion: always
priority: P0
isCanonical: true
canonicalDomain: [对话模式, 语言要求, 一条龙模式, 方案讨论流程]
lastUpdated: 2025-01-09
---

# 沟通规范

## 🔴🔴🔴 一条龙完成模式（最高优先级）🔴🔴🔴

当用户在需求审核阶段给出类似以下回复时：
- "你直接一条龙完成吧"
- "直接全部完成"
- "一口气做完"
- "不用问了，直接做"
- 或其他表达"跳过审核、直接完成所有工作"意图的话语

**必须执行以下完整流程**：

### 1. 自动完成设计文档
- 直接创建 `design.md`，无需等待用户审核
- 包含完整的架构设计、组件设计、正确性属性等

### 2. 自动完成任务列表
- 直接创建 `tasks.md`，无需等待用户审核
- **所有任务都标记为必须完成**（不使用 `*` 可选标记）
- 包括所有测试任务

### 3. 自动执行所有任务
- 按顺序完成 `tasks.md` 中的每一个任务
- 每完成一个任务，更新任务状态为 `[x]`
- 遇到问题时自行解决，不中断流程

### 4. 更新工作区记忆
- 更新对应工作区的 `memory.md`
- 记录本次会话的完整内容

### 5. 生成验收指南
- 在工作区内创建 `验收指南.md` 文档
- 参考格式：`.kiro/specs/物品放置系统/3_放置系统V3重构/` 或 `.kiro/specs/UI系统/0_背包交互系统升级/`
- 包含以下内容：
  - 功能验收清单（可勾选的检查项）
  - 测试步骤说明
  - 预期结果描述
  - 已知限制或注意事项

### 触发条件
- 用户已经看过需求文档（requirements.md）
- 用户明确表示不需要逐步审核
- 用户希望快速完成整个功能

### 注意事项
- 此模式下不使用 `userInput` 工具询问用户
- 遇到技术决策时，选择最稳妥的方案
- 完成后给出简洁的总结报告

---

## 语言要求

### 对话语言
- **所有对话必须使用中文**
- **思考过程必须使用中文**
- **解释和说明必须使用中文**

### 🔴 文档语言（重要！）
- **所有 .kiro/specs/ 下的文档必须使用中文**
- **requirements.md、design.md、tasks.md、memory.md 全部用中文**
- **用户故事、验收标准、任务描述全部用中文**
- **禁止在规划文档中使用英文描述**
- 唯一例外：代码片段、类名、方法名、文件路径

### 代码和技术术语
允许使用英文的情况：
- 代码本身（C#、Unity API 等）
- 技术术语和专有名词（如 `GameObject`、`Transform`、`ScriptableObject`）
- 文件名和路径（如 `Assets/Scripts/Player.cs`）
- 类名、方法名、变量名
- Unity 编辑器菜单项（如 `GameObject/Create Empty`）

### 🔴 与中文用户对话的语言规范（重要！）

**核心原则**：用户是中文用户，看不懂英文，必须提供中文友好的体验。

1. **引用英文规则文件时**：
   - 必须**主动用中文转述/总结内容**
   - 不得直接向用户输出大段英文原文
   - 若用户需要查看英文原文，可提供，但必须附上中文解释

2. **引用 archive 目录下的英文文档时**：
   - 优先引用文档开头的"中文概述"章节
   - 若需要引用英文部分，必须翻译为中文后再输出

3. **技术术语处理**：
   - 首次出现的英文术语，必须附上中文解释
   - 例如：`ScriptableObject`（可编程对象）、`Singleton`（单例模式）
   - 后续可以直接使用英文术语

4. **禁止的行为**：
   - ❌ 直接复制粘贴大段英文内容给用户
   - ❌ 假设用户能理解英文技术文档
   - ❌ 用英文回复用户的中文问题

## 方案讨论规范

### 默认输出方式
当用户要求提供方案或解决方案时：
- **优先使用文字描述**，不展示代码
- **先理解需求**，确认用户的真实意图
- **用清晰的语言解释方案**，确保用户理解
- **分步骤说明**，逻辑清晰

### 何时展示代码
仅在以下情况展示代码示例：
- 用户明确要求"给出代码"或"展示代码"
- 用户要求"核心代码"或"代码实现"
- 讨论具体的代码问题或 bug
- 需要展示具体的 API 用法

### 方案讨论流程
1. **确认需求** - 理解用户想要什么
2. **提出方案** - 用文字描述解决思路
3. **解释原理** - 说明为什么这样做
4. **等待反馈** - 确认用户理解并同意
5. **实施代码** - 只有在用户确认后才编写代码

## 回复风格

### 简洁明了
- 避免冗长的解释
- 直接回答问题核心
- 使用要点列表组织信息

### 友好专业
- 保持轻松的对话氛围
- 使用"我们"、"咱们"等亲切用语
- 避免过于正式或生硬的表达

### 结构化表达
- 使用标题和子标题
- 用列表整理要点
- 重要信息用加粗标记

## 示例对比

### ❌ 不推荐的回复方式
```
用户：我想实现一个物品拾取功能
AI：好的，这是代码：
```csharp
public class ItemPickup : MonoBehaviour {
    void OnTriggerEnter2D(Collider2D other) {
        // 大量代码...
    }
}
```
```

### ✅ 推荐的回复方式
```
用户：我想实现一个物品拾取功能
AI：明白了，物品拾取功能可以这样设计：

1. **检测机制** - 使用触发器检测玩家靠近物品
2. **交互提示** - 显示"按 E 拾取"的 UI 提示
3. **拾取逻辑** - 按键后将物品添加到背包
4. **反馈效果** - 播放音效和拾取动画

你想先从哪个部分开始？还是需要我详细说明某个环节？
```

## 特殊情况

### 调试和错误
- 遇到错误时，先用中文解释问题
- 说明可能的原因
- 提供解决思路
- 只在必要时展示错误代码片段

### 技术讨论
- 可以混用中英文术语（如"使用 Singleton 模式管理 TimeManager"）
- 保持句子主体为中文
- 英文术语后可加中文注释

### 文档引用
- 引用 Unity 文档时使用英文原名
- 添加中文说明
- 例如："使用 `Awake()` 方法（在对象初始化时调用）"

## 核心原则

1. **中文优先** - 除了代码和必要的英文名，一切用中文
2. **理解为先** - 先搞清楚需求，再给方案
3. **文字为主** - 默认用文字描述，不展示代码
4. **确认再做** - 方案确认后再编写代码
5. **简洁高效** - 直接、清晰、不啰嗦
