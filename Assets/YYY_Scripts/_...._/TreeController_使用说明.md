# ğŸŒ² TreeController ä½¿ç”¨è¯´æ˜

## ğŸ¯ ä¸¤ç§ä½¿ç”¨æ–¹å¼

### æ–¹å¼1ï¼šç¼–è¾‘å™¨å®æ—¶é¢„è§ˆï¼ˆè°ƒè¯•ç”¨ï¼‰âœ…

**é€‚ç”¨åœºæ™¯**ï¼šæµ‹è¯•ã€è°ƒè¯•ã€ç¾æœ¯é…ç½®

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. è¿è¡Œæ¸¸æˆï¼ˆPlayæ¨¡å¼ï¼‰
2. åœ¨Inspectorä¸­ç›´æ¥ä¿®æ”¹ï¼š
   - Current Seasonï¼ˆå½“å‰å­£èŠ‚ï¼‰
   - Current Stageï¼ˆå½“å‰é˜¶æ®µï¼‰
   - Current Stateï¼ˆå½“å‰çŠ¶æ€ï¼‰
3. **è‡ªåŠ¨å®æ—¶æ›´æ–°**æ˜¾ç¤º

**å³é”®èœå•å¿«æ·æµ‹è¯•**ï¼š
- åœ¨Inspectorçš„TreeControllerç»„ä»¶ä¸Šå³é”®
- é€‰æ‹©ï¼š
  - ğŸ”„ æµ‹è¯•å­£èŠ‚å¾ªç¯ï¼ˆSpringâ†’Summerâ†’Autumnâ†’Winterâ†’Springï¼‰
  - ğŸŒ± æµ‹è¯•æˆé•¿ï¼ˆSaplingâ†’Smallâ†’Largeï¼‰
  - ğŸ‚ æµ‹è¯•æ¯è
  - ğŸª“ æµ‹è¯•ç ä¼

**å¯ç”¨/ç¦ç”¨**ï¼š
- `Editor Preview`å‹¾é€‰æ¡†ï¼ˆé»˜è®¤å¼€å¯ï¼‰

---

### æ–¹å¼2ï¼šSeasonManagerç»Ÿä¸€ç®¡ç†ï¼ˆæ­£å¼ç”¨ï¼‰âœ…

**é€‚ç”¨åœºæ™¯**ï¼šæ¸¸æˆè¿è¡Œæ—¶ã€ç”Ÿäº§ç¯å¢ƒ

**æ¶æ„**ï¼š
```
SeasonManagerï¼ˆåœºæ™¯ä¸­å”¯ä¸€ï¼‰
      â”‚
      â”œâ”€ ç®¡ç†å…¨å±€å­£èŠ‚
      â”œâ”€ è§¦å‘OnSeasonChangedäº‹ä»¶
      â”‚
      â†“ï¼ˆè‡ªåŠ¨é€šçŸ¥ï¼‰
      â”‚
TreeControllerï¼ˆæ¯æ£µæ ‘ï¼‰
      â”‚
      â”œâ”€ è‡ªåŠ¨è®¢é˜…SeasonManageräº‹ä»¶
      â”œâ”€ è¢«åŠ¨å“åº”å­£èŠ‚å˜åŒ–
      â””â”€ æ›´æ–°æ˜¾ç¤º
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

1. **åœºæ™¯ä¸­æ·»åŠ SeasonManager**
   ```
   åˆ›å»ºç©ºGameObject â†’ å‘½å"SeasonManager" â†’ æ·»åŠ SeasonManagerç»„ä»¶
   ```

2. **TreeControllerè‡ªåŠ¨è®¢é˜…**
   - TreeControlleråœ¨Start()æ—¶è‡ªåŠ¨æŸ¥æ‰¾SeasonManager
   - è‡ªåŠ¨è®¢é˜…OnSeasonChangedäº‹ä»¶
   - è‡ªåŠ¨åŒæ­¥åˆ°å½“å‰å­£èŠ‚

3. **æ§åˆ¶å­£èŠ‚å˜åŒ–**
   
   **æ–¹å¼Aï¼šä»£ç æ§åˆ¶**
   ```csharp
   // è·å–SeasonManager
   SeasonManager seasonManager = SeasonManager.Instance;
   
   // åˆ‡æ¢å­£èŠ‚
   seasonManager.SetSeason(SeasonManager.Season.Summer);
   
   // æ‰€æœ‰TreeControllerè‡ªåŠ¨å“åº”
   ```
   
   **æ–¹å¼Bï¼šç¼–è¾‘å™¨æµ‹è¯•**
   ```
   è¿è¡Œæ¸¸æˆ â†’ åœ¨SeasonManagerçš„Inspectorä¿®æ”¹Current Season
   ```
   
   **æ–¹å¼Cï¼šé”®ç›˜å¿«æ·é”®ï¼ˆè°ƒè¯•ï¼‰**
   ```
   æŒ‰é”®1 = æ˜¥å­£
   æŒ‰é”®2 = å¤å­£
   æŒ‰é”®3 = ç§‹å­£
   æŒ‰é”®4 = å†¬å­£
   ```

---

## ğŸ“Š å®Œæ•´æ•°æ®é…ç½®

### Spriteæ€»æ•°ï¼š15ä¸ª

**æ˜¥å­£ï¼ˆ3ä¸ªï¼‰**
- Stage 0_Saplingï¼ˆæ ‘è‹—ï¼‰
- Stage 1_Smallï¼ˆå°æ ‘ï¼‰
- Stage 2_Largeï¼ˆå¤§æ ‘ï¼‰

**å¤å­£ï¼ˆ5ä¸ªï¼‰**
- Stage 0_Saplingï¼ˆæ ‘è‹—ï¼‰
- Stage 1_Smallï¼ˆå°æ ‘ï¼‰
- Stage 2_Largeï¼ˆå¤§æ ‘ï¼‰
- Withered_Smallï¼ˆå°æ ‘æ¯èï¼‰
- Withered_Largeï¼ˆå¤§æ ‘æ¯èï¼‰

**ç§‹å­£ï¼ˆ3ä¸ªï¼‰**
- Stage 0_Saplingï¼ˆæ ‘è‹—ï¼‰
- Stage 1_Smallï¼ˆå°æ ‘ï¼‰
- Stage 2_Largeï¼ˆå¤§æ ‘ï¼‰

**å†¬å­£ï¼ˆ2ä¸ªï¼‰**
- Withered_Smallï¼ˆå°æ ‘æ¯èï¼‰
- Withered_Largeï¼ˆå¤§æ ‘æ¯èï¼‰

**æ ‘æ¡©ï¼ˆ2ä¸ªï¼‰**
- Stump_Normalï¼ˆæ˜¥/å¤/ç§‹ï¼‰
- Stump_Winterï¼ˆå†¬å­£ï¼‰

---

## ğŸ”„ å­£èŠ‚é€»è¾‘

### æ˜¥/å¤/ç§‹å­£
- âœ… å¯ä»¥æˆé•¿ï¼ˆSapling â†’ Small â†’ Largeï¼‰
- âœ… æ­£å¸¸æ˜¾ç¤º
- âœ… å¤å­£å¯ä»¥æ¯èï¼ˆå¯é€‰ï¼‰

### å†¬å­£ï¼ˆç‰¹æ®Šï¼‰
- â„ï¸ **æ ‘è‹—æ­»äº¡**ï¼ˆSpriteRendereréšè—ï¼‰
- â„ï¸ **å°æ ‘/å¤§æ ‘å¼ºåˆ¶æ¯è**
- â„ï¸ **ä¸ä¼šæˆé•¿**ï¼ˆè‡ªåŠ¨æˆé•¿æš‚åœï¼‰

### å†¬â†’æ˜¥è½¬æ¢
- ğŸŒ± ä»æ¯èçŠ¶æ€æ¢å¤ä¸ºæ­£å¸¸
- ğŸŒ± é‡æ–°å¼€å§‹è‡ªåŠ¨æˆé•¿

---

## ğŸ® è¿è¡Œæ—¶API

### æŸ¥è¯¢æ¥å£
```csharp
TreeController tree = GetComponent<TreeController>();

// è·å–å½“å‰çŠ¶æ€
SeasonManager.Season season = tree.GetCurrentSeason();
GrowthStage stage = tree.GetCurrentStage();
TreeState state = tree.GetCurrentState();

// åˆ¤æ–­
bool visible = tree.ShouldBeVisible();  // æ˜¯å¦åº”è¯¥æ˜¾ç¤º
bool dead = tree.IsDeadSapling();       // æ˜¯å¦æ˜¯æ­»äº¡æ ‘è‹—
```

### æ§åˆ¶æ¥å£
```csharp
// æ‰‹åŠ¨åˆ‡æ¢å­£èŠ‚ï¼ˆä¸æ¨èï¼Œåº”è¯¥ç”¨SeasonManagerï¼‰
tree.SetSeason(SeasonManager.Season.Summer);

// æˆé•¿
tree.Grow();

// æ¯è
tree.SetWithered(true);

// ç ä¼
tree.ChopDown();

// é‡ç½®
tree.Reset();
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### æˆé•¿è®¾ç½®
- **Auto Grow**ï¼šæ˜¯å¦è‡ªåŠ¨æˆé•¿ï¼ˆé»˜è®¤å¼€å¯ï¼‰
- **Growth Duration**ï¼šæˆé•¿åˆ°ä¸‹ä¸€é˜¶æ®µéœ€è¦çš„æ—¶é—´ï¼ˆç§’ï¼‰

### è°ƒè¯•è®¾ç½®
- **Show Debug Info**ï¼šæ˜¾ç¤ºè¯¦ç»†æ—¥å¿—
- **Editor Preview**ï¼šå¯ç”¨ç¼–è¾‘å™¨å®æ—¶é¢„è§ˆ

---

## ğŸ’¡ æœ€ä½³å®è·µ

### è°ƒè¯•é˜¶æ®µ
1. âœ… ä½¿ç”¨ç¼–è¾‘å™¨å®æ—¶é¢„è§ˆ
2. âœ… ä½¿ç”¨å³é”®èœå•å¿«æ·æµ‹è¯•
3. âœ… åœ¨Inspectorç›´æ¥ä¿®æ”¹æŸ¥çœ‹æ•ˆæœ

### ç”Ÿäº§é˜¶æ®µ
1. âœ… åœºæ™¯ä¸­æ·»åŠ SeasonManager
2. âœ… TreeControllerè‡ªåŠ¨è®¢é˜…
3. âœ… ç»Ÿä¸€é€šè¿‡SeasonManageræ§åˆ¶å­£èŠ‚
4. âœ… å…³é—­Show Debug Info

---

## ğŸ› å¸¸è§é—®é¢˜

**Qï¼šä¸ºä»€ä¹ˆInspectorä¿®æ”¹åæ²¡æœ‰å®æ—¶æ›´æ–°ï¼Ÿ**
Aï¼šç¡®ä¿å‹¾é€‰äº†`Editor Preview`ï¼Œå¹¶ä¸”åœ¨Playæ¨¡å¼ä¸‹ã€‚

**Qï¼šä¸ºä»€ä¹ˆå†¬å­£æ ‘è‹—ä¸æ˜¾ç¤ºï¼Ÿ**
Aï¼šå†¬å­£æ ‘è‹—ä¼šæ­»äº¡ï¼Œè¿™æ˜¯è®¾è®¡é€»è¾‘ã€‚åœºæ™¯ç³»ç»Ÿä¼šè‡ªåŠ¨éšè—ã€‚

**Qï¼šå¦‚ä½•è®©æ‰€æœ‰æ ‘åŒæ­¥å­£èŠ‚å˜åŒ–ï¼Ÿ**
Aï¼šåœºæ™¯ä¸­æ·»åŠ SeasonManagerï¼Œæ‰€æœ‰TreeControllerä¼šè‡ªåŠ¨è®¢é˜…ã€‚

**Qï¼šå†¬å­£çš„æ ‘ä¸ºä»€ä¹ˆä¸æˆé•¿ï¼Ÿ**
Aï¼šå†¬å­£é»˜è®¤æ¯èä¸”åœæ­¢æˆé•¿ï¼Œåˆ°æ˜¥å­£æ‰ä¼šå¤è‹ã€‚

---

**ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-10-22

