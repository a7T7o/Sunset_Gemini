# ğŸ¯ å…³é”®ä¿®å¤ï¼šæ‰§è¡Œé¡ºåº

## é—®é¢˜åˆ†æ

### ä¹‹å‰çš„é—®é¢˜1ï¼šå»¶è¿Ÿæ’­æ”¾
```
Updateé˜¶æ®µï¼š
  Playerå¼€å§‹æ’­æ”¾ âœ…

LateUpdateé˜¶æ®µï¼š
  Toolæ‰å¯¹é½èµ·ç‚¹ âŒï¼ˆæ™šäº†ï¼ï¼‰
```

### ä¹‹å‰çš„é—®é¢˜2ï¼šé˜»æ­¢è½¬æ¢
```csharp
// âŒ é”™è¯¯çš„é¡ºåº
toolState = GetCurrentAnimatorStateInfo(0); // è·å–æ—§çŠ¶æ€
Play(toolState.hash, 0, time);              // å¼ºåˆ¶æ’­æ”¾æ—§çŠ¶æ€
// ç»“æœï¼šé˜»æ­¢è½¬æ¢
```

## æœ€ç»ˆæ–¹æ¡ˆ

### æ ¸å¿ƒï¼šå…ˆè½¬æ¢ï¼Œå†åŒæ­¥

```csharp
if (isToolActive)
{
    // 1ï¸âƒ£ å…ˆå¼ºåˆ¶å®Œæˆè½¬æ¢
    toolAnimator.Update(0);
    
    // 2ï¸âƒ£ è·å–è½¬æ¢åçš„æœ€æ–°çŠ¶æ€
    AnimatorStateInfo toolState = toolAnimator.GetCurrentAnimatorStateInfo(0);
    AnimatorStateInfo playerState = playerAnimator.GetCurrentAnimatorStateInfo(0);
    
    // 3ï¸âƒ£ ä½¿ç”¨æœ€æ–°çŠ¶æ€åŒæ­¥æ—¶é—´
    toolAnimator.Play(toolState.fullPathHash, 0, playerState.normalizedTime);
}
```

### ä¸ºä»€ä¹ˆè¿™æ ·èƒ½å·¥ä½œï¼Ÿ

**æ‰§è¡Œæµç¨‹**ï¼š

```
ç¬¬1å¸§ï¼šæŒ‰ä¸‹2é”®ï¼ŒToolQualityå·²ç»=1

Updateé˜¶æ®µï¼š
  Playerè®¾ç½®State=6ï¼Œå¼€å§‹æ’­æ”¾ (time=0.000)

LateUpdateé˜¶æ®µï¼š
  1. SyncParameters: è®¾ç½®toolAnimator.State=6, Direction=0
  2. toolAnimator.Update(0): 
     â†’ æ£€æµ‹åˆ°å‚æ•°å˜åŒ–
     â†’ ç«‹å³å®Œæˆè½¬æ¢ï¼šAny State â†’ Slice_Down_Clip_0_1 âœ…
  3. GetCurrentAnimatorStateInfo: 
     â†’ è¿”å› Slice_Down_Clip_0_1ï¼ˆæ–°çŠ¶æ€ï¼‰âœ…
  4. Play(Slice_Down_Clip_0_1.hash, 0, 0.000):
     â†’ åŒæ­¥æ—¶é—´åˆ°0.000 âœ…

ç¬¬2å¸§ï¼šæŒç»­æ’­æ”¾

LateUpdateé˜¶æ®µï¼š
  1. toolAnimator.Update(0): æ— å˜åŒ–ï¼ˆå‚æ•°æ²¡å˜ï¼‰
  2. GetCurrentAnimatorStateInfo: 
     â†’ è¿”å› Slice_Down_Clip_0_1ï¼ˆè¿˜æ˜¯æ–°çŠ¶æ€ï¼‰âœ…
  3. Play(Slice_Down_Clip_0_1.hash, 0, 0.3):
     â†’ åŒæ­¥æ—¶é—´åˆ°0.3 âœ…
```

**å…³é”®ç‚¹**ï¼š
- `Update(0)` åœ¨ `GetCurrentAnimatorStateInfo` ä¹‹å‰
- è·å–çš„æ°¸è¿œæ˜¯**è½¬æ¢åçš„æœ€æ–°çŠ¶æ€**
- `Play` åªæ˜¯åŒæ­¥æ—¶é—´ï¼Œä¸ä¼šå¼ºåˆ¶åˆ‡æ¢åˆ°æ—§çŠ¶æ€

## å¯¹æ¯”æ‰€æœ‰æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼ˆå¤±è´¥ï¼‰ï¼šæ¯å¸§ç›´æ¥Play
```csharp
toolState = GetCurrentAnimatorStateInfo(0);
Play(toolState.hash, 0, time);
```
âŒ è·å–çš„æ˜¯æ—§çŠ¶æ€ï¼Œé˜»æ­¢è½¬æ¢

### æ–¹æ¡ˆ2ï¼ˆå¤±è´¥ï¼‰ï¼šåªåœ¨Stateå˜åŒ–æ—¶Play
```csharp
if (stateChanged) {
    Play(toolState.hash, 0, time);
}
```
âŒ æœ‰å»¶è¿Ÿï¼ŒPlayerå…ˆæ’­æ”¾ï¼ŒToolåå¯¹é½

### æ–¹æ¡ˆ3ï¼ˆæˆåŠŸï¼‰ï¼šå…ˆUpdateå†Play
```csharp
Update(0);  // å®Œæˆè½¬æ¢
toolState = GetCurrentAnimatorStateInfo(0); // è·å–æ–°çŠ¶æ€
Play(toolState.hash, 0, time); // åŒæ­¥æ—¶é—´
```
âœ… æ—¢èƒ½è½¬æ¢ï¼Œåˆèƒ½åŒæ­¥

## å®Œæˆ

ç°åœ¨åº”è¯¥èƒ½å®ç°ï¼š
- âœ… åŒæ—¶å¼€å§‹æ’­æ”¾
- âœ… å®æ—¶åŒæ­¥æ—¶é—´
- âœ… æ­£ç¡®åˆ‡æ¢åŠ¨ç”»

