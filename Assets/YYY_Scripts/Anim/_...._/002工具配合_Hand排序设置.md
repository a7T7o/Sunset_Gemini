# 002æ‰¹é‡å·¥å…· - Handæ’åºè®¾ç½®æŒ‡å—

## ğŸ¯ æ ¸å¿ƒé—®é¢˜

**é—®é¢˜**ï¼šä½¿ç”¨002å·¥å…·åŠ¨æ€è®¡ç®—Playerçš„Orderåï¼ŒHandçš„Orderå¦‚ä½•æ­£ç¡®è®¾ç½®ï¼Ÿ

**ç­”æ¡ˆ**ï¼šHandçš„Orderå¿…é¡»**å§‹ç»ˆæ¯”Playeré«˜è‡³å°‘1**ï¼Œå¦åˆ™å·¥å…·ä¼šè¢«èº«ä½“é®æŒ¡ã€‚

---

## ğŸ“Š Sorting Layerè§„åˆ™

### âœ… æ­£ç¡®è®¾ç½®

| GameObject | Orderè®¡ç®—æ–¹å¼ | ç¤ºä¾‹å€¼ |
|-----------|--------------|--------|
| Player | ç”±002å·¥å…·è®¡ç®—ï¼ˆåŸºäºYåæ ‡ï¼‰ | -1000 |
| Hand | Playerçš„Order + 1 | **-999** |

**å…³é”®**ï¼šHandå¿…é¡»æ¯”Playerçš„Order**é«˜**ï¼ˆæ•°å€¼æ›´å¤§ï¼‰ï¼

### âŒ é”™è¯¯è®¾ç½®

```
Player: Order = -1000
Hand: Order = -1001  âŒ æ›´ä½ï¼å·¥å…·è¢«é®æŒ¡ï¼
```

---

## ğŸ”§ ä¸‰ç§è®¾ç½®æ–¹æ³•

### æ–¹æ³•1ï¼šè‡ªåŠ¨åŒæ­¥ï¼ˆæ¨èï¼‰âœ…

**LayerAnimSyncå·²é›†æˆè‡ªåŠ¨è°ƒæ•´åŠŸèƒ½ï¼**

```csharp
// LayerAnimSync.UpdateToolVisibility()ä¸­
if (shouldShowTool)
{
    // è‡ªåŠ¨è®¾ç½®ï¼šHandçš„Order = Playerçš„Order + 1
    toolSpriteRenderer.sortingLayerID = playerSpriteRenderer.sortingLayerID;
    toolSpriteRenderer.sortingOrder = playerSpriteRenderer.sortingOrder + 1;
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… å®Œå…¨è‡ªåŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
- âœ… Playerçš„Orderæ”¹å˜æ—¶ï¼ŒHandè‡ªåŠ¨è·Ÿéš
- âœ… é€‚ç”¨äºåŠ¨æ€æ’åºåœºæ™¯

**ä½¿ç”¨**ï¼š
1. æ­£å¸¸ä½¿ç”¨002å·¥å…·è®¾ç½®Playerçš„Order
2. LayerAnimSyncä¼šåœ¨æ˜¾ç¤ºHandæ—¶è‡ªåŠ¨è°ƒæ•´

---

### æ–¹æ³•2ï¼šæ‰‹åŠ¨è®¡ç®—ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰

**æ­¥éª¤**ï¼š

1. **ä½¿ç”¨002å·¥å…·è®¾ç½®Player**
   ```
   1. åœ¨Hierarchyä¸­é€‰ä¸­Player
   2. æ‰“å¼€002æ‰¹é‡å·¥å…·
   3. ç‚¹å‡»"è®¾ç½®é€‰ä¸­ç‰©ä½“çš„Order in Layer"
   4. Consoleæ˜¾ç¤ºï¼šOrder = -1000
   ```

2. **æ‰‹åŠ¨è®¾ç½®Hand**
   ```
   1. åœ¨Hierarchyä¸­é€‰ä¸­Player/Hand
   2. åœ¨Inspectorä¸­æ‰¾åˆ°Sprite Renderer
   3. è®¾ç½®Order in Layer = -999ï¼ˆæ¯”-1000é«˜1ï¼‰
   ```

**ç¼ºç‚¹**ï¼š
- âŒ æ¯æ¬¡Playerçš„Orderå˜åŒ–éƒ½è¦æ‰‹åŠ¨è°ƒæ•´
- âŒ å®¹æ˜“å‡ºé”™

---

### æ–¹æ³•3ï¼šæ’é™¤Handï¼ˆä½¿ç”¨ç‰¹æ®Šæ ‡è®°ï¼‰

**åŸç†**ï¼š002å·¥å…·ä¼šè·³è¿‡Order < -9990çš„ç‰©ä½“

**æ­¥éª¤**ï¼š

1. **åˆå§‹åŒ–Hand**
   ```
   æ‰‹åŠ¨è®¾ç½®Handçš„Order = -9999ï¼ˆç‰¹æ®Šæ ‡è®°å€¼ï¼‰
   ```

2. **ä½¿ç”¨002å·¥å…·**
   ```
   é€‰ä¸­Player â†’ ä½¿ç”¨002å·¥å…·
   â†’ Playerçš„Orderè¢«è®¡ç®—ï¼ˆå¦‚ -1000ï¼‰
   â†’ Handè¢«è·³è¿‡ï¼ˆOrderä¿æŒ -9999ï¼‰
   ```

3. **è„šæœ¬åŠ¨æ€è°ƒæ•´**
   ```csharp
   // åœ¨LayerAnimSyncä¸­
   if (shouldShowTool)
   {
       toolSpriteRenderer.sortingOrder = playerSpriteRenderer.sortingOrder + 1;
   }
   ```

**ä¼˜åŠ¿**ï¼š
- âœ… Handä¸ä¼šè¢«002å·¥å…·è¯¯ä¿®æ”¹
- âœ… è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´Order

**ç¼ºç‚¹**ï¼š
- âš ï¸ éœ€è¦é¢å¤–çš„è„šæœ¬é€»è¾‘

---

## ğŸ’¡ æœ€ä½³å®è·µï¼ˆæ¨èæµç¨‹ï¼‰

### 1. åˆå§‹è®¾ç½®

```
åœºæ™¯è®¾ç½®é˜¶æ®µï¼š
  1. Player: ä½¿ç”¨002å·¥å…·è®¡ç®—Orderï¼ˆå¦‚ -1000ï¼‰
  2. Hand: è®¾ç½®ä¸º -9999ï¼ˆç‰¹æ®Šæ ‡è®°ï¼‰æˆ–é»˜è®¤å€¼
```

### 2. è¿è¡Œæ—¶è‡ªåŠ¨

```
è¿è¡Œæ¸¸æˆåï¼š
  LayerAnimSyncè‡ªåŠ¨è°ƒæ•´Handçš„Order
  â†’ Hand.Order = Player.Order + 1
  â†’ å®Œå…¨è‡ªåŠ¨ï¼Œæ— éœ€æ‹…å¿ƒ
```

### 3. è°ƒè¯•éªŒè¯

```
è¿è¡Œæ¸¸æˆï¼ŒæŒ‰2é”®æ‰§è¡ŒSliceï¼š
  1. æ£€æŸ¥Handæ˜¯å¦æ˜¾ç¤º
  2. æ£€æŸ¥Handæ˜¯å¦åœ¨Playerå‰é¢
  3. åœ¨Inspectorä¸­æŸ¥çœ‹Handçš„Order
     â†’ åº”è¯¥æ˜¯Playerçš„Order + 1
```

---

## ğŸ” è°ƒè¯•æ–¹æ³•

### é—®é¢˜ï¼šHandè¢«Playeré®æŒ¡

**æ£€æŸ¥æ­¥éª¤**ï¼š

1. **è¿è¡Œæ¸¸æˆï¼Œæš‚åœ**
   ```
   æ‰§è¡ŒSliceåŠ¨ä½œåæš‚åœæ¸¸æˆ
   ```

2. **æ£€æŸ¥Inspector**
   ```
   Player:
     Sprite Renderer
       Sorting Layer: Player
       Order in Layer: -1000  â† è®°ä¸‹è¿™ä¸ªå€¼
   
   Hand:
     Sprite Renderer
       Sorting Layer: Player  â† å¿…é¡»ç›¸åŒ
       Order in Layer: ???    â† åº”è¯¥æ˜¯ -999
   ```

3. **åˆ¤æ–­é—®é¢˜**
   ```
   å¦‚æœHandçš„Order â‰¤ Playerçš„Orderï¼š
     â†’ LayerAnimSyncæ²¡æœ‰æ­£ç¡®æ‰§è¡Œ
     â†’ æ£€æŸ¥è„šæœ¬å¼•ç”¨æ˜¯å¦æ­£ç¡®
   ```

### é—®é¢˜ï¼š002å·¥å…·ä¿®æ”¹äº†Handçš„Order

**åŸå› **ï¼šé€‰æ‹©äº†PlayeråŠå…¶å­ç‰©ä½“ï¼ŒHandè¢«åŒ…å«

**è§£å†³**ï¼š

**æ–¹æ³•1**ï¼šåˆ†ç¦»Hand
```
å°†Handä»Playerä¸‹ç§»å‡ºï¼ˆä¸´æ—¶ï¼‰
â†’ ä½¿ç”¨002å·¥å…·å¤„ç†Player
â†’ ç§»å›Hand
â†’ LayerAnimSyncä¼šåœ¨è¿è¡Œæ—¶è‡ªåŠ¨è°ƒæ•´
```

**æ–¹æ³•2**ï¼šä½¿ç”¨ç‰¹æ®Šæ ‡è®°
```
è®¾ç½®Handçš„Order = -9999
â†’ 002å·¥å…·ä¼šè‡ªåŠ¨è·³è¿‡
```

---

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

åœ¨ä½¿ç”¨002å·¥å…·å‰ï¼Œç¡®è®¤ï¼š

- [ ] Handçš„SpriteRendereré»˜è®¤æ˜¯**ç¦ç”¨**çš„
- [ ] Handçš„Orderå¯ä»¥æ˜¯ä»»æ„å€¼ï¼ˆLayerAnimSyncä¼šè‡ªåŠ¨è°ƒæ•´ï¼‰
- [ ] LayerAnimSyncæ­£ç¡®å¼•ç”¨äº†Playerå’ŒHandçš„SpriteRenderer
- [ ] ç†è§£Orderçš„å¤§å°å…³ç³»ï¼ˆè¶Šå¤§è¶Šé å‰ï¼‰

ä½¿ç”¨002å·¥å…·åï¼ŒéªŒè¯ï¼š

- [ ] Playerçš„Orderå·²æ­£ç¡®è®¡ç®—
- [ ] Handçš„Orderæ²¡æœ‰è¢«è¯¯ä¿®æ”¹ï¼ˆæˆ–æ— æ‰€è°“ï¼Œè¿è¡Œæ—¶ä¼šè°ƒæ•´ï¼‰
- [ ] è¿è¡Œæ¸¸æˆï¼Œæ‰§è¡ŒSliceï¼ŒHandæ˜¾ç¤ºåœ¨Playerå‰é¢

**å…¨éƒ¨å‹¾é€‰å³é…ç½®å®Œæˆï¼** âœ…

---

## ğŸ® å®Œæ•´å·¥ä½œæµç¨‹

```
ã€ç¼–è¾‘å™¨é˜¶æ®µã€‘
1. åˆ›å»ºPlayerå’ŒHandå±‚çº§ç»“æ„
2. ç¦ç”¨Handçš„SpriteRenderer
3. ä½¿ç”¨002å·¥å…·è®¾ç½®Playerçš„Orderï¼ˆå¦‚ -1000ï¼‰
4. Handçš„Orderå¯ä»¥ä¸ç®¡ï¼ˆæˆ–è®¾ä¸º -9999 é˜²æ­¢è¢«ä¿®æ”¹ï¼‰

â†“

ã€æ·»åŠ è„šæœ¬ã€‘
5. æ·»åŠ LayerAnimSyncè„šæœ¬
6. æ­£ç¡®é…ç½®æ‰€æœ‰å¼•ç”¨

â†“

ã€è¿è¡Œæ—¶ã€‘
7. LayerAnimSyncè‡ªåŠ¨è°ƒæ•´Handçš„Order
8. Hand.Order = Player.Order + 1
9. å·¥å…·æ­£ç¡®æ˜¾ç¤ºåœ¨è§’è‰²å‰é¢

â†“

ã€æµ‹è¯•éªŒè¯ã€‘
10. æŒ‰Qé”®åˆ‡æ¢å·¥å…·
11. æŒ‰2é”®æ‰§è¡ŒSlice
12. éªŒè¯Handæ˜¾ç¤ºåœ¨å‰é¢
```

**å®Œå…¨è‡ªåŠ¨åŒ–ï¼æ— éœ€æ‰‹åŠ¨å¹²é¢„Orderï¼** ğŸš€


